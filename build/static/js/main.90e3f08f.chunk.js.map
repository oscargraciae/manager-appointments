{"version":3,"sources":["services/HttpClient.tsx","config/constants.tsx","services/userService.tsx","assets/logo-reserly-2.png","components/general/Header.tsx","components/general/Sidebar.tsx","components/general/Loading.tsx","utils/formatDate.tsx","context/socketContext.tsx","hooks/useSocket.tsx","utils/generateName.tsx","assets/reserly-logo.png","components/general/Footer.tsx","components/general/Layout.tsx","validations/loginValidation.tsx","components/general/Wrapper.tsx","components/general/InputField.tsx","components/general/AlertError.tsx","pages/Login.tsx","components/general/ContainerPage.tsx","services/bookingService.tsx","utils/propsToParams.tsx","utils/formatHoursDate.tsx","config/calendarText.tsx","components/booking/CalendarItem.tsx","services/businessService.tsx","utils/hoursFilters.tsx","components/booking/BookingCalendar.tsx","pages/Home.tsx","validations/signupValidation.tsx","pages/Signup.tsx","components/general/WrapperSettings.tsx","validations/businessValidation.tsx","components/general/LoadingView.tsx","pages/Settings.tsx","components/gallery/UploadCover.tsx","components/onboarding/BoardingCover.tsx","components/onboarding/BoardingHours.tsx","services/businessAddressService.tsx","hooks/useMap.tsx","components/business/AddressForm.tsx","components/onboarding/BoardingInformation.tsx","validations/newServiceValidation.tsx","components/onboarding/BoardingServices.tsx","components/onboarding/BoardingSuccess.tsx","validations/welcomeValidation.tsx","services/categoryService.tsx","components/onboarding/Welcome.tsx","pages/NewBusiness.tsx","pages/SettingsAddress.tsx","pages/SettingsLocation.tsx","pages/SettingsHour.tsx","utils/minutesToHours.tsx","components/booking/BookingHistoryList.tsx","components/booking/BookingListNext.tsx","components/booking/BookingsList.tsx","pages/Bookings.tsx","pages/Booking.tsx","components/gallery/UploadGallery.tsx","pages/SettingsGallery.tsx","components/services/DeleteServiceDialog.tsx","components/services/ServiceForm.tsx","components/services/ModalNewService.tsx","components/services/ServiceItem.tsx","components/services/ServiceList.tsx","pages/Services.tsx","services/customerService.tsx","components/customers/CustomerList.tsx","pages/Customers.tsx","App.tsx","reportWebVitals.ts","config/theme.tsx","index.tsx"],"names":["HttpClient","baseURL","instance","_initializeResponseInterceptor","interceptors","response","use","_handleResponse","_handleError","data","error","Promise","reject","this","axios","create","withCredentials","API_DOMAIN","process","URL_API","APP_NAME","UserService","login","post","signup","logout","get","getMe","Header","user","business","h","bg","align","justify","borderBottomColor","borderBottomWidth","py","px","w","href","src","logo","alt","width","height","fontWeight","color","name","fontSize","ml","isPublic","as","Link","mx","variant","zIndex","borderColor","onClick","shadow","borderWidth","MenuLink","title","icon","direction","Lnk","to","_hover","p","Sidebar","borderRightWidth","borderRightColor","pos","top","left","mt","CgCalendarDates","CgCalendar","CgList","CgUserList","CgToolbox","Loading","flex","size","moment","locale","formatDate","date","format","tz","formatDateLG","SocketContext","React","createContext","SocketProvider","children","toast","useToast","socket","io","transports","useState","online","useSocket","on","console","log","description","bookingDate","status","position","Provider","value","generateName","replace","toLocaleLowerCase","Footer","spacing","target","my","UserContext","Layout","setUser","setBusiness","isLoading","setIsLoading","history","useHistory","fetchMe","a","success","alert","businessUser","isCompleted","push","useEffect","alignItems","mr","window","location","origin","id","leftIcon","e","url","copy","duration","canvas","document","getElementById","pngUrl","toDataURL","downloadLink","createElement","download","body","appendChild","click","removeChild","style","display","loginValidation","values","errors","email","test","password","Wrapper","maxW","InputField","label","inputSize","props","useField","field","touched","isInvalid","htmlFor","TextareaField","PasswordInputField","showPassword","setShowPassword","type","aria-label","AiFillEyeInvisible","AiFillEye","AlertError","textAlign","Login","setError","onSubmit","userService","message","initialValues","firstName","lastName","validate","isSubmitting","isFullWidth","alignSelf","orientation","mb","ContainerPage","BookingService","getAll","params","queryString","stringify","skipNull","skipEmptyString","strict","propsToParams","update","put","accepted","canceled","formatHoursDate","hours","map","openFrom","ISO_8601","openTill","messages","allDay","previous","next","today","month","week","day","agenda","time","event","noEventsInRange","showMore","total","CalendarItem","customer","isTruncated","BusinessService","businessId","createHours","getHours","uplaodCover","headers","uplaodGallery","deletePhoto","delete","getPhotos","createService","updateService","serviceId","deleteService","getServices","getMax","sort","b","localeCompare","localizer","momentLocalizer","BookingCalendar","businessContext","useContext","bookings","setBookings","min","max","rangeTime","setRangeTime","hours1","hours2","fetchHours","statuses","bookingEvents","start","toDate","end","add","totalTime","fetch","pb","events","startAccessor","endAccessor","timeslots","step","eventPropGetter","_start","_end","_isSelected","backgroundColor","bookingStatusId","borderRadius","opacity","borderLeftWidth","borderLeftColor","flexDirection","slotPropGetter","slotGroupPropGetter","minHeight","dayPropGetter","components","defaultView","views","onSelectEvent","Home","signupValidation","Signup","pr","WrapperSettings","businessValidation","Number","businessCategoryId","LoadingView","Settings","fetchBusiness","isClosable","phone","handleChange","rows","onChange","UploadCover","onUpload","cover","setCover","isUploading","setIsUplaoding","FormData","append","files","m","accept","multiple","objectFit","loading","BoardingCover","BoardingHours","setHours","getBusiness","i","j","arr","formDay","setFieldValue","dayOfWeek","isOpen","days","isDisabled","key","colorScheme","initialValue","BusinessAddressService","useGoogleMaps","coords","setCoords","refContainer","useRef","refMap","refMarker","uluru","lat","lng","google","maps","Map","current","center","zoom","scrollwheel","streetViewControl","fullscreenControl","mapTypeControl","zoomControl","disableDoubleClickZoom","zoomControlOptions","ControlPosition","TOP_LEFT","addListener","getCenter","addMarker","mark","Marker","draggable","latLng","changeLocation","setCenter","AddressForm","handleSaveAddress","address","setAddresss","geoAddress","setGeoAddress","state","setState","city","setCity","fetchAddress","addressMap","handleSelect","geocodeByAddress","results","fillInAddress","getLatLng","place","addressComponent","address_components","length","types","locality","long_name","administrativeArea","street","area","aling","geoaddress","onSelect","searchOptions","componentRestrictions","country","getInputProps","suggestions","getSuggestionItemProps","placeholder","background","isIndeterminate","suggestion","ref","justifyContent","disabled","BoardingInformation","setStep","NewServiceSchema","Yup","shape","required","price","BoardingServices","validationSchema","BoardingSuccess","publishBusiness","welcomeValidationSchema","CategoryService","Welcome","categories","setCategories","fetchCategories","item","NewBusiness","useParams","option","undefined","handleSteps","buildOnboarding","SettingsAddress","setAddress","zipcode","SettingsLocation","SettingsHour","myHours","setMyHours","newHours","minutesToHour","minutes","hour","Math","trunc","BookingsListHistory","fetchBookings","statusColor","totalPrice","bookingStatus","BookingsListNext","dateEnd","Date","toISOString","textDecor","cursor","BookingsList","bookingId","setBookingId","handleToAcept","index","slice","handleToCancel","isActive","Bookings","tab","setTab","Booking","booking","setBooking","fetchBooking","statusId","colorStatus","createdAt","bookingService","nameService","priceService","timeService","UploadGallery","photos","setPhotos","image","file","onChangeGallery","newFiles","Array","from","URL","createObjectURL","newPhotos","dataFiles","handleDeletePhoto","splice","photo","role","_groupHover","SettingsGallery","DeleteServiceDialog","onClose","service","realodList","cancelRef","leastDestructiveRef","ServiceForm","ModalNewService","motionPreset","ServiceItem","handleEditService","handleDeleteService","IconButton","ServiceList","services","Services","useDisclosure","onOpen","setServices","setService","isDeleteModal","setIsDeleteModal","fetchServices","CustomerService","CustomerList","customers","bookingCreatedAt","Customers","setCustomers","App","PrivateRoutes","Cookies","exact","path","component","render","pathname","PrivateRoute","Component","rest","isAuth","PublicRoute","basename","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","fonts","chakraTheme","mono","theme","extendTheme","styles","global","colors","black","primary","_primary","secondary","_secondary","surface","borders","subtext","primaryLight","variants","textDecoration","Button","Input","baseStyle","_focus","outline","boxShadow","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.90e3f08f.chunk.js","sourcesContent":["import axios, { AxiosInstance, AxiosResponse } from 'axios';\n\ndeclare module 'axios' {\n  interface AxiosResponse<T = any> extends Promise<T> {}\n}\n\nexport default abstract class HttpClient {\n  protected readonly instance: AxiosInstance;\n\n  public constructor(baseURL: string) {\n    // /axios.defaults.withCredentials = true;\n    this.instance = axios.create({\n      baseURL,\n      withCredentials: true,\n    });\n\n    this._initializeResponseInterceptor();\n  }\n\n  private _initializeResponseInterceptor = () => {\n    this.instance.interceptors.response.use(\n      this._handleResponse,\n      this._handleError,\n    );\n  };\n\n  private _handleResponse = ({ data }: AxiosResponse) => data;\n\n  protected _handleError = (error: any) => Promise.reject(error);\n}","// export const API_DOMAIN = 'http://localhost:8001';\nexport const API_DOMAIN = process.env.REACT_APP_API_URL || 'https://api.reserly.mx';\nexport const URL_API = `${API_DOMAIN}/api/manager_v1`;\nexport const APP_NAME = 'Reserly';\nexport const TOKEN_MAPBOX = process.env.REACT_APP_TOKEN_MAPBOX || '';\n","import HttpClient from './HttpClient';\nimport { User, UserResponse } from \"../types/User\";\nimport { URL_API } from \"../config/constants\";\n\nexport class UserService extends HttpClient {\n\n  public constructor() {\n    super(URL_API);\n  }\n\n  public login = (data: User) => this.instance.post<UserResponse>('/users/auth', data);\n  public signup = (data: User) => this.instance.post<UserResponse>('/users', data);\n\n  public logout = () => this.instance.get<UserResponse>('/users/auth/logout');\n  public getMe = () => this.instance.get<UserResponse>('/users');\n}","export default __webpack_public_path__ + \"static/media/logo-reserly-2.fdfaa62e.png\";","import { Flex, MenuButton, Spacer, Text, Menu, MenuList, MenuItem, Link } from '@chakra-ui/react';\nimport React from 'react'\nimport { useHistory } from 'react-router-dom';\nimport { APP_NAME } from '../../config/constants';\nimport { IBusiness } from '../../types/Business';\nimport { User } from '../../types/User';\n\nimport logo from '../../assets/logo-reserly-2.png';\n\ninterface HeaderProps {\n  user: User | null\n  business: IBusiness\n  logout: any\n}\n\nexport const Header: React.FC<HeaderProps> = ({ user, business, logout }) => {\n\n  if (!user) {\n    return (\n      <Flex bg='surface' align='center' justify='center' shadow='md' borderBottomColor='#DDD' borderWidth={1} py={4}>\n        <Text>{APP_NAME}</Text>\n        <Spacer />\n        <Text>Iniciar sesion</Text>\n      </Flex>\n    )\n  }\n  \n  return (\n    <Flex h='66px' bg='surface' align='center' justify='center' borderBottomColor='borders' borderBottomWidth={1} py={4} px={8}>\n      <Flex align='center' w='190px'>\n        <Link href=\"/\">\n          <img src={logo} alt=\"uorder\" width=\"120\" height=\"40\" />\n        </Link>\n      </Flex>\n      <Text fontWeight='semibold' color='subtext'>{business.name}</Text>\n      <Text fontWeight='bold' fontSize='xs' ml={4} color={business.isPublic ? 'primary' : 'yellow.300'}>\n        { business.isPublic ? 'Publicado' : 'No publicado' }\n        \n      </Text>\n      <Spacer />\n      <Menu>\n        {/* <Link href='/' size=\"sm\" variant=\"primary\" mx={3}>Modo cliente</Link> */}\n        <MenuButton as={Link} mx={3} variant='primary'>\n          Mi Cuenta\n        </MenuButton>\n        <MenuList zIndex={3} borderColor=\"#DDD\">\n          <MenuItem onClick={logout}>Cerrar sesión</MenuItem>\n        </MenuList>\n      </Menu>\n    </Flex>\n  );\n}","import React from 'react'\nimport { Box, Flex, Image, Link, Text } from '@chakra-ui/react';\nimport {\n  CgCalendar,\n  CgHome,\n  CgUserList,\n  CgToolbox,\n  CgList,\n  CgCalendarDates,\n} from 'react-icons/cg';\nimport { Link as Lnk } from 'react-router-dom';\n\nimport ReserlyLogo from './../../assets/Reserly.png';\nimport { IBusiness } from '../../types/Business';\n\ninterface SidebarProps {\n  logout: any\n  business: IBusiness\n}\n\nconst MenuLink: React.FC<{ title: string, icon: any, href: string }> = ({title, icon, href}) => (\n  <Flex direction='row'>  \n    <Link as={Lnk} to={href} w='100%' _hover={{ bg: 'primary', color: '#FFFFFF' }} fontWeight='bold'>\n      <Flex direction='row' align='center' p={3} >\n        {icon()} <Text fontSize='sm' ml={5}>{title}</Text>\n      </Flex>\n    </Link>\n  </Flex>\n)\n\nexport const Sidebar: React.FC<SidebarProps> = ({ logout }) => {\n  return (\n    <Box w='210px' h='100vh' bg='surface' shadow='sm' borderRightWidth={1} borderRightColor='borders' pos='sticky' top='0' left='0'>\n      {/* <Flex py={3} textAlign='center' justify='center' align='center'>\n        <Image src={ReserlyLogo} alt='Reserly' h='64px' />\n      </Flex> */}\n\n      <Box mt={3}>\n        <MenuLink title='Calendario' icon={CgCalendarDates} href='/' />\n        {/* <MenuLink title='Calendario' icon={CgCalendar} href='/calendar' /> */}\n        <MenuLink title='Reservaciones' icon={CgCalendar} href='/bookings' />\n        <MenuLink title='Servicios' icon={CgList} href='/services' />\n        <MenuLink title='Clientes' icon={CgUserList} href='/customers' />\n        {/* <MenuLink title='Clientes' icon={CgUserList} href='/customers' /> */}\n        <MenuLink title='Configuración' icon={CgToolbox} href='/settings' />\n      </Box>\n    </Box>\n  );\n}","import React from 'react';\nimport { Flex, Spinner, Text } from '@chakra-ui/react';\n\nimport { APP_NAME } from '../../config/constants';\n\ninterface LoadingProps {}\n\nexport const Loading: React.FC<LoadingProps> = () => {\n  return (\n    <Flex direction='column' justify='center' align='center' flex={1} w='100%' height='100vh'>\n      <Spinner size='xl' color='primary' />\n      <Text mt={4} fontWeight='bold' fontSize='2xl'>Cargando {APP_NAME}</Text>\n    </Flex>\n  );\n}","import moment from 'moment';\nmoment.locale('es-mx');\n\nexport const formatDate = (date :Date, format? :string) => {\n  if (!format) {\n    return moment(date).tz('America/Monterrey').format('DD/MM/YYYY HH:mm');\n  }\n\n  return moment(date).format(format);\n}\n\nexport const formatDateLG = (date :Date) => {\n  return moment(date).tz('America/Monterrey').format('dddd DD [de] MMMM [de] YYYY HH:mm');\n}","import { position, useToast } from '@chakra-ui/react';\nimport React from 'react';\nimport { useSocket } from '../hooks/useSocket';\nimport { formatDate } from '../utils/formatDate';\nimport { formatBookingDate } from '../utils/formatHoursDate';\n\nexport const SocketContext = React.createContext<any>(null);\n\nexport const SocketProvider: React.FC = ({ children }) => {\n  // hooks\n  const toast = useToast();\n  const { socket, online } = useSocket();\n  \n  socket.on('new-booking', (data :any) => {\n    console.log('Socket data', data);\n    \n    toast({\n      title: 'Nueva reservación',\n      description: `${formatDate(data.bookingDate)}`,\n      status: 'success',\n      position: 'top',\n    })\n  });\n  \n  return (\n    <SocketContext.Provider value={{ socket, online }}>\n      { children }\n    </SocketContext.Provider>\n  );\n}","import { useEffect, useMemo, useState } from 'react';\nimport { io, Socket } from 'socket.io-client';\nimport { API_DOMAIN, URL_API } from '../config/constants';\n\n\nexport const useSocket = () => {\n    \n    const socket : Socket = io(API_DOMAIN, { transports: ['websocket'] });\n    const [ online, setOnline ] = useState(false);\n    \n    // socket.on('saludo', (data :any) => {\n    //   console.log('Datos de saludo', data);\n    // })\n\n    // useEffect(() => {\n    //     setOnline( socket.connected );\n    // }, [socket])\n\n    // useEffect(() => {\n    //     socket.on('connect', () => {\n    //       console.log('Socket conectado');\n          \n    //     });\n    // }, [ socket ])\n\n    // useEffect(() => {\n    //     socket.on('disconnect', () => setOnline( false ));\n    // }, [ socket ])\n\n    return {\n        socket,\n        online\n    }\n}","export const generateName = (name: string) => {\n  return name.replace(/ /g, '-').toLocaleLowerCase();\n}","export default __webpack_public_path__ + \"static/media/reserly-logo.d5cba136.png\";","import { Box, Divider, Flex, HStack, Link, Text } from '@chakra-ui/react';\nimport React from 'react'\n\nimport logo from '../../assets/reserly-logo.png';\n\nexport const Footer: React.FC = () => {\n  return (\n    <Flex bg='secondary' py={10} px={4} mt={24}>\n      <Flex direction='column' w='1180px' mx='auto'>\n        <Box>\n          <Link href=\"/\">\n            <img src={logo} alt=\"uorder\" width=\"120\" height=\"90\" />\n          </Link>\n          <HStack spacing={5} py={4}>\n            <Link target='_blank' fontWeight='500' color='#FFFFFF' fontSize='sm' href={`${process.env.REACT_APP_WEB_URL}/terminos-y-condiciones`}>\n              Terminos y condiciones\n            </Link>\n            <Link target='_blank' fontWeight='500' color='#FFFFFF' fontSize='sm' href={`${process.env.REACT_APP_WEB_URL}/aviso-de-privacidad`}>\n              Politica de privacidad\n            </Link>\n            <Text fontWeight='500' color='#FFFFFF' fontSize='sm'>\n              Contacto: hola@reserly.mx\n            </Text>\n          </HStack>\n        </Box>\n        <Box>\n          <Link target='_blank' fontWeight='500' color='#FFFFFF' fontSize='sm' href='https://www.facebook.com/reserlymx'>\n            {/* <FaFacebook size={28} /> */}\n            Facebook de Reserly\n          </Link>\n        </Box>\n        <Divider my={6} borderColor='#FFFFFF' />\n        <Text fontWeight='500' color='#FFFFFF' fontSize='sm'>\n          © Reserly. Todos los derechos reservados\n        </Text>\n      </Flex>\n    </Flex>\n  );\n}","/* eslint-disable react-hooks/exhaustive-deps */\n// Libraries\nimport React, { useEffect, useState, useRef } from 'react'\nimport { Box, Button, Flex, Text, useToast } from '@chakra-ui/react';\nimport { useHistory } from 'react-router-dom';\nimport copy from 'copy-to-clipboard';\nimport { ImQrcode, ImCopy } from 'react-icons/im'\n\nimport QRCode from 'qrcode.react';\n\nimport { UserService } from '../../services/userService';\nimport { User } from '../../types/User';\nimport { Header } from './Header';\nimport { Sidebar } from './Sidebar';\nimport { Loading } from './Loading';\nimport { IBusiness } from '../../types/Business';\nimport { SocketProvider } from '../../context/socketContext';\nimport { generateName } from '../../utils/generateName';\nimport { Footer } from './Footer';\n\ninterface LayoutProps {}\n\nexport const UserContext = React.createContext<any>(null);\n\nexport const Layout: React.FC<LayoutProps> = ({ children }) => {\n  // hooks\n  const toast = useToast();\n\n  // state\n  const [user, setUser] = useState<User | null>(null);\n  const [business, setBusiness] = useState<IBusiness | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const history = useHistory();\n\n\n  const fetchMe = async () => {\n    const { success, user } = await new UserService().getMe();\n    if (!success || !user) {\n      alert('Usuario no encotrado');\n      return ;\n      // Aqui se debe de enviar al login, cerrar sesion o mostrar alguna pantalla de error\n    };\n\n    if (!user.businessUser || !user.businessUser.business?.isCompleted) {\n      // alert('Este usuario no tiene tienda, favor de registrar una.')\n      history.push('/new-business');\n      return;\n    }\n\n    if (user.businessUser.business) {\n      setBusiness(user.businessUser.business)\n    }\n\n    setUser(user);\n    setIsLoading(false);\n  }\n\n  const copyUrl = (e :any) => {\n    if (business && business.name) {\n      const url : string = `${window.location.origin}/b/${generateName(business.name)}/${business.id}`;\n      copy(url);\n      toast({\n        title: 'URL copiada',\n        duration: 1000,\n        position: 'top',\n        status: 'success',\n      })\n    }\n  }\n\n  const downloadQR = () => {\n    const canvas :any = document.getElementById(\"businessqr\");\n    if (canvas && business && business.name) {\n      const pngUrl = canvas\n        .toDataURL(\"image/png\")\n        .replace(\"image/png\", \"image/octet-stream\");\n      let downloadLink = document.createElement(\"a\");\n      downloadLink.href = pngUrl;\n      downloadLink.download = `${generateName(business.name)}-qr`;\n      document.body.appendChild(downloadLink);\n      downloadLink.click();\n      document.body.removeChild(downloadLink);\n    }\n  }\n\n  const logout = async () => {\n    await new UserService().logout();\n    history.push('/login');\n  }\n\n  useEffect(() => {\n    fetchMe();\n  }, []);\n\n  if(isLoading || !business || !business.name) {\n    return <Loading />\n  }\n\n  // if (!user) {\n  //   <Flex direction='column' justify='center' align='center' flex={1} w='100%' height='100vh'>\n  //     <Text mt={4} fontWeight='bold' fontSize='2xl'>Usuario no disponible</Text>\n  //   </Flex>\n  // }\n\n  \n  return (\n    <UserContext.Provider value={business}>\n      <SocketProvider>\n        <Box height='100vh' bg='background'>\n          <Header user={user} business={business} logout={logout} />\n          <Flex direction='row'>\n            <Sidebar logout={logout} business={business} />\n            <Box w='100%'>\n              <Flex w='100%' bg='surface' px={6} py={2} alignItems='center'>\n                <Text fontSize='sm' fontWeight='bold' mr={2}>Compartir</Text>\n                <Text fontSize='sm' >{`${window.location.origin}/b/${generateName(business.name)}/${business.id}`}</Text>\n                <Button size='xs' ml={3} leftIcon={<ImCopy />} onClick={copyUrl}>\n                  Copiar URL\n                </Button>\n                <Button leftIcon={<ImQrcode />} size='xs' ml={3} onClick={downloadQR}>\n                  Descargar QR\n                </Button>\n              </Flex>\n              <Box>\n                <QRCode value={`${window.location.origin}/b/${generateName(business.name)}/${business.id}`} id='businessqr' style={{ display: 'none' }} />\n                {children}\n              </Box>\n            </Box>\n          </Flex>\n          <Footer />\n        </Box>\n      </SocketProvider>\n    </UserContext.Provider>\n  );\n}","import { User } from \"../types/User\";\n\nexport const loginValidation = (values: User) => {\n  const errors : any = {};\n  if (!values.email) {\n    errors.email = 'Ingresa una dirección de correo electrónico';\n  } else if (\n    !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\n  ) {\n    errors.email = 'Ingresa una dirección de correo electrónico';\n  }\n\n  if (!values.password) {\n    errors.password = 'Ingresa una contraseña'\n  }\n\n  return errors;\n}","import React from \"react\";\nimport { Box } from \"@chakra-ui/react\";\n\nexport type WrapperVariant = \"small\" | \"regular\";\n\ninterface WrapperProps {\n  variant?: WrapperVariant;\n}\n\nexport const Wrapper: React.FC<WrapperProps> = ({\n  children,\n  variant = \"regular\",\n}) => {\n  return (\n    <Box\n      mt={8}\n      mx=\"auto\"\n      maxW={variant === \"regular\" ? \"800px\" : \"400px\"}\n      w=\"100%\"\n    >\n      {children}\n    </Box>\n  );\n};","import React, { useState, InputHTMLAttributes } from \"react\";\nimport { useField } from \"formik\";\nimport {\n  FormControl,\n  FormLabel,\n  Input,\n  InputProps,\n  FormErrorMessage,\n  InputGroup,\n  InputRightElement,\n  IconButton,\n  Textarea,\n  TextareaProps,\n} from \"@chakra-ui/react\";\nimport { AiFillEye, AiFillEyeInvisible } from 'react-icons/ai';\n\n// type InputFieldProps = InputHTMLAttributes<HTMLInputElement> & {\n//   label: string;\n//   name: string;\n//   errors?: string\n// };\n\ntype InputFieldProps = InputHTMLAttributes<HTMLInputElement> & InputProps & TextareaProps & {\n  label: string;\n  name: string;\n  errors?: string\n  inputSize?: string\n};\n\n\n// '' => false\n// 'error message stuff' => true\n\nexport const InputField: React.FC<InputFieldProps> = ({ label, errors, inputSize = 'md', ...props }) => {\n  const [field, { error, touched }] = useField(props);\n  return (\n    <FormControl isInvalid={!!(touched && error)}>\n      <FormLabel fontWeight='bold' fontSize='sm' htmlFor={field.name}>{label}</FormLabel>\n      <Input size={inputSize} {...field} {...props} id={field.name} />\n      {(touched && error) ? <FormErrorMessage>{error}</FormErrorMessage> : null}\n    </FormControl>\n  );\n};\n\nexport const TextareaField: React.FC<InputFieldProps> = ({ label, errors, inputSize = 'md', ...props }) => {\n  const [field, { error, touched }] = useField(props);\n  return (\n    <FormControl isInvalid={!!(touched && error)}>\n      <FormLabel fontWeight='bold' fontSize='sm' htmlFor={field.name}>{label}</FormLabel>\n      <Textarea size={inputSize} {...field} {...props} id={field.name} />\n      {(touched && error) ? <FormErrorMessage>{error}</FormErrorMessage> : null}\n    </FormControl>\n  );\n};\n\nexport const PasswordInputField: React.FC<InputFieldProps> = ({ label, ...props }) => {\n  const [field, { error, touched }] = useField(props);\n  const [showPassword, setShowPassword] = useState(false);\n  return (\n    <FormControl isInvalid={!!(touched && error)}>\n      <FormLabel htmlFor=\"description\" fontSize='sm' fontWeight='bold'>Contraseña</FormLabel>\n      <InputGroup>\n        <Input\n          type={showPassword ? \"text\" : \"password\"}\n          {...field}\n          {...props} id={field.name}\n        />\n        <InputRightElement>\n          <IconButton aria-label=\"Search database\" variant='ghost' icon={!showPassword ? AiFillEye({}) : AiFillEyeInvisible({})} onClick={() => setShowPassword(!showPassword)} />\n        </InputRightElement>\n      </InputGroup>\n      {(touched && error) ? <FormErrorMessage>{error}</FormErrorMessage> : null}\n    </FormControl>\n  );\n};\n","import React from 'react'\nimport { Alert, AlertDescription, AlertTitle } from '@chakra-ui/react';\n\ninterface AlertErrorProps {\n  title?: string\n  description?: string\n}\n\nexport const AlertError: React.FC<AlertErrorProps> = ({ title, description }) => {\n  return (\n    <Alert status='error' >\n      { title && <AlertTitle>{title}</AlertTitle> }\n      { description && <AlertDescription fontSize='sm' textAlign='left'>{description}</AlertDescription> }\n    </Alert>\n  );\n}","// Libraries\nimport React, { useState } from 'react'\nimport { Box, Button, Heading, Text, VStack, Link, Divider } from '@chakra-ui/react';\nimport { Form, Formik } from 'formik';\nimport { Link as Lnk, useHistory } from 'react-router-dom';\n\n// Local libraries\nimport { loginValidation } from '../validations/loginValidation';\nimport { UserService } from '../services/userService';\nimport { User } from '../types/User';\n\n// Components\nimport { Wrapper } from '../components/general/Wrapper';\nimport { InputField, PasswordInputField } from '../components/general/InputField';\nimport { AlertError } from '../components/general/AlertError';\n\nexport const Login: React.FC = () => {\n  const [error, setError] = useState('');\n\n  const history = useHistory();\n\n  const onSubmit = async (values: User) => {\n    const userService = new UserService();\n    const response = await userService.login(values);\n\n    if (!response.success && response.message) {\n      setError(response.message);\n    } else {\n      history.push('/');\n    }\n  };\n\n  const initialState = {\n    email: '',\n    password: '',\n    firstName: '',\n    lastName: '',\n  }\n  return (\n    <Wrapper variant=\"small\">\n      <Box shadow='md' my={0} mx=\"auto\" textAlign='center' p={10} bg='surface'>\n        <Heading as='h1'>Inicia sesión</Heading>\n        <Box mt={6}>\n          <Formik initialValues={initialState} onSubmit={onSubmit} validate={loginValidation}>\n            {({ isSubmitting, errors, touched }) => (\n              <Form>\n                <VStack spacing={4}>\n                  {/* <InputField name='firstName' label='Nombre' />\n                  <InputField name='lastName' label='Apellido' /> */}\n                  <InputField name='email' label='Correo eletrónico' />\n                  <PasswordInputField name='password' label='Contraseña' />\n                  <Button mt={40} isLoading={isSubmitting} type='submit' size='lg' variant='primary' isFullWidth>Iniciar sesión</Button>\n                  <Button alignSelf='flex-end' textAlign='right' size='sm' variant='link'>¿Olvidaste tu contraseña?</Button>\n                  { error && <AlertError description={error} /> }\n\n                  <Divider orientation='horizontal' my={4} />\n                  <Text mb={2}>¿No tienes cuenta?{\" \"}\n                    <Lnk to='/signup'>\n                      <Link color='primary' fontWeight='bold'>Registrate</Link>\n                    </Lnk>\n                  </Text>\n                </VStack>\n              </Form>\n            )}\n          </Formik>\n        </Box>\n      </Box>\n    </Wrapper>\n  );\n}","import { Box, Flex, Heading, Text } from '@chakra-ui/react';\nimport React from 'react'\n\ninterface ContainerPageProps {\n  title?: string\n}\n\nexport const ContainerPage: React.FC<ContainerPageProps> = ({ title, children }) => {\n  return (\n    <Box p={6} py={4} w='100%' maxW='1920px'>\n      { title && <Heading as='h3' size='lg'>{title}</Heading> }\n      <Box mt={3}>\n        {children}\n      </Box>\n    </Box>\n  );\n}","import { URL_API } from \"../config/constants\";\nimport { IBooking } from \"../types/IBooking\";\nimport { propsToParams } from \"../utils/propsToParams\";\nimport HttpClient from \"./HttpClient\";\n\nexport class BookingService extends HttpClient {\n  constructor() {\n    super(URL_API);\n  }\n\n  getAll = (params? :any) => this.instance.get(`/bookings?${propsToParams(params)}`);\n  get = (id :number) => this.instance.get(`/bookings/${id}`);\n  update = (id :number, data :IBooking) => this.instance.put(`/bookings/${id}`, data);\n  accepted = (id :number) => this.instance.put(`/bookings/${id}/accepted`);\n  canceled = (id :number) => this.instance.put(`/bookings/${id}/canceled`);\n}","import queryString from 'query-string';\n\nexport const propsToParams = (params :any) => {\n  return queryString.stringify(params, { skipNull: true, skipEmptyString: true, strict: true });\n}","import moment from 'moment-timezone';\nimport { Event } from 'react-big-calendar';\nimport { IBooking } from '../types/IBooking';\n\nimport { IHour } from \"../types/IHour\";\n\n// let dateAndTime = moment(component.props.data.value, [moment.ISO_8601, 'HH:mm']);\nexport const formatHoursDate = (hours: IHour[]) : IHour[]=> {\n    return hours.map((e) => ({\n      ...e,\n      // openFrom: moment( '12:00' ).format('HH:MM'),\n      openFrom: moment(e.openFrom, [moment.ISO_8601, 'HH:mm']).format('H:mm'),\n      openTill: moment(e.openTill, [moment.ISO_8601, 'HH:mm']).format('H:mm'),\n    }));\n}\n\nexport const formatBookingDate = (hours: IBooking[]) : Event[]=> {\n  return hours.map((e) => ({\n    ...e,\n    title: e.customer ? e.customer.firstName : '',\n    // openFrom: moment( '12:00' ).format('HH:MM'),\n    start: moment(`${e.bookingDate}`).toDate(),\n    end: moment(`${e.bookingDate}`).add(e.totalTime, 'minute').toDate(),\n  }));\n}","export const messages = {\n  allDay: 'Todo el día',\n  previous: '<',\n  next: '>',\n  today: 'Hoy',\n  month: 'Mes',\n  week: 'Semana',\n  day: 'Día',\n  agenda: 'Agenda',\n  date: 'Fecha',\n  time: 'Hora',\n  event: 'Evento',\n  noEventsInRange: 'No hay eventos en este rango',\n  showMore: (total :any) => `+ Ver más (${total})`\n};","import React from 'react'\nimport { Box, Text } from '@chakra-ui/react';\nimport { User } from '../../types/User';\n\ninterface CalendarItemProps {\n  event: any\n}\n\nexport const CalendarItem: React.FC<CalendarItemProps> = ({ event }) => {\n  const { customer } = event;\n  return (\n    <Box>\n      <Text fontWeight='semibold' isTruncated>{customer.firstName} {customer.lastName}</Text>\n    </Box>\n  );\n}","import { URL_API } from \"../config/constants\";\nimport { IBusiness, IBusinessResponse } from \"../types/Business\";\nimport { IHoursResponse } from \"../types/IHour\";\nimport { IService, IServiceResponse, IServicesResponse } from \"../types/IService\";\nimport HttpClient from \"./HttpClient\";\n\nexport class BusinessService extends HttpClient {\n  constructor() {\n    super(URL_API)\n  }\n\n  create = (data: IBusiness) => this.instance.post<IBusinessResponse>('/businesses', data);\n  update = (data: IBusiness, businessId: number) => this.instance.put<IBusinessResponse>(`/businesses/${businessId}`, data);\n  get = () => this.instance.get('/businesses');\n\n  createHours = (data: any, businessId: number) => this.instance.post(`/businesses/${businessId}/hours`, data);\n  getHours = (businessId: number) => this.instance.get<IHoursResponse>(`/businesses/${businessId}/hours`);\n\n  uplaodCover = (data :any) => this.instance.post('/businesses/upload/cover', data, {\n    headers: {\n      'content-type': 'multipart/form-data'\n    }\n  });\n\n  uplaodGallery = (data :any) => this.instance.post('/businesses/upload/photos', data, {\n    headers: {\n      'content-type': 'multipart/form-data'\n    }\n  });\n\n  deletePhoto = (id :number) => this.instance.delete(`/businesses/upload/photos/${id}`);\n  getPhotos = () => this.instance.get('/businesses/upload/photos');\n\n  // API DE SERVICIOS\n  createService = (data: IService, businessId: number) => this.instance.post<IServiceResponse>(`/businesses/${businessId}/services`, data);\n  updateService = (data: IService, serviceId: number, businessId: number) => this.instance.put<IServiceResponse>(`/businesses/${businessId}/services/${serviceId}`, data);\n  deleteService = (serviceId: number, businessId: number) => this.instance.delete<IServiceResponse>(`/businesses/${businessId}/services/${serviceId}`);\n  getServices = (businessId:number) => this.instance.get<IServicesResponse>(`/businesses/${businessId}/services`);\n}","import { IHour } from \"../types/IHour\";\n\nexport const getMin = (hours :IHour[]) => {\n  hours.sort((a, b) :any => {\n    if (a.openFrom && b.openFrom) {\n      return a.openFrom.localeCompare(b.openFrom);\n    }\n  });\n\n  return hours[0].openFrom;\n}\n\nexport const getMax = (hours :IHour[]) => {\n  hours.sort((a, b) :any => {\n    if (a.openTill && b.openTill) {\n      return b.openTill.localeCompare(a.openTill);\n    }\n  });\n\n  console.log('Orden get max', hours);\n\n  return hours[0].openTill;\n}","import React, { HTMLAttributes, useContext, useEffect, useState } from 'react'\nimport { Box, Flex, HStack, Text } from '@chakra-ui/react';\nimport { Calendar, Event, EventPropGetter, momentLocalizer } from 'react-big-calendar'\nimport moment from 'moment'\n\nimport 'moment/locale/es';\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\n\n\nimport { IBooking } from '../../types/IBooking';\nimport { BookingService } from '../../services/bookingService';\nimport { formatBookingDate, formatHoursDate } from '../../utils/formatHoursDate';\nimport { messages } from '../../config/calendarText';\nimport { CalendarItem } from './CalendarItem';\n\nimport './BookingCalendar.css';\nimport { BusinessService } from '../../services/businessService';\nimport { UserContext } from '../general/Layout';\nimport { getMin, getMax } from '../../utils/hoursFilters';\nimport { useHistory } from 'react-router-dom';\n\nconst localizer = momentLocalizer(moment)\n\ninterface BookingCalendarProps {}\n\nexport const BookingCalendar: React.FC<BookingCalendarProps> = ({}) => {\n  // hooks\n  const history = useHistory();\n\n  // context\n  const businessContext = useContext(UserContext);\n  \n  // state\n  const [bookings, setBookings] = useState<Event[]>([]);\n  const [rangeTime, setRangeTime] = useState({ min: '00:00', max: '23:30' });\n\n  useEffect(() => {\n    const fetchHours = async () => {\n      const response = await new BusinessService().getHours(businessContext.id);\n      \n      if (response.success && response.hours) {\n        const hours1 = response.hours;\n        const hours2 = [...response.hours];\n        const min = getMin(hours1);\n        const max = getMax(hours2);\n\n        if (min && max) {\n          setRangeTime({ min, max });\n        }\n        \n        const newHours = formatHoursDate(response.hours);\n        // console.log('Horas', newHours);\n      }\n    }\n\n    fetchHours();\n  }, []);\n\n  useEffect(() => {\n    const fetch = async () => {\n      const response = await new BookingService().getAll({ statuses: [1, 2] });\n      if (response.success) {\n        const bookingEvents = formatBookingDate(response.bookings);\n        setBookings(bookingEvents);\n      }\n    }\n    fetch();\n  }, []);\n\n  const onSelectEvent = (event :any) => {\n    console.log('Click en el evento', event);\n    if (event.id) {\n      history.push(`/bookings/${event.id}`);\n    }\n  }\n\n  const eventPropGetter = (event: any, _start: any, _end: any, _isSelected: any) : React.HTMLAttributes<HTMLDivElement> => {\n    \n    const style : React.CSSProperties = {\n      backgroundColor: event.bookingStatusId === 2 ? '#BDEFD1' : '#FEFCBF',\n      borderRadius: 0,\n      opacity: 1,\n      borderWidth: 0,\n      fontSize: '12px',\n      color: event.bookingStatusId === 2 ? '#16793D' : '#D69E2E',\n      borderLeftWidth: 5,\n      borderLeftColor: event.bookingStatusId === 2 ? '#05AF3C' : '#ECC94B',\n      flexDirection: 'column',\n      fontWeight: 'bold',\n    }\n    return {\n      style\n    }\n  }\n\n  const slotPropGetter = () : React.HTMLAttributes<HTMLDivElement> => {\n    const style : React.CSSProperties = {}\n    return {\n      style\n    }\n  }\n\n  const slotGroupPropGetter = () : React.HTMLAttributes<HTMLDivElement> => {\n    const style : React.CSSProperties = {\n      minHeight: '80px',\n    }\n    return {\n      style\n    }\n  }\n\n  const dayPropGetter = () : React.HTMLAttributes<HTMLDivElement> => {\n    const style : React.CSSProperties = {\n      backgroundColor: '#FFF',\n    }\n    return {\n      style\n    }\n  }\n  \n  return (\n    <Box>\n      <Flex pb={2}>\n        <Flex mb={1}>\n          <HStack mr={3}>\n            <Box bg='primary' w={4} h={4} />\n            <Text fontSize='sm'>Aceptado</Text>\n          </HStack>\n          <HStack>\n            <Box bg='yellow.300' w={4} h={4} />\n            <Text fontSize='sm'>Pendiente</Text>\n          </HStack>\n        </Flex>\n      </Flex>\n      <Calendar\n        localizer={localizer}\n        events={bookings}\n        startAccessor=\"start\"\n        endAccessor=\"end\"\n        timeslots={2}\n        step={15}\n        messages={messages}\n        eventPropGetter={eventPropGetter}\n        slotPropGetter={slotPropGetter}\n        slotGroupPropGetter={slotGroupPropGetter}\n        dayPropGetter={dayPropGetter}\n        components={{\n          event: CalendarItem\n        }}\n        defaultView='week'\n        views={{ week: true, day: true, agenda: true }}\n        min={moment(rangeTime.min, [moment.ISO_8601, 'HH:mm']).toDate()}\n        max={moment(rangeTime.max, [moment.ISO_8601, 'HH:mm']).toDate()}\n        onSelectEvent={onSelectEvent}\n      />\n    </Box>\n  );\n}","import React from 'react'\nimport { Box } from '@chakra-ui/react';\n\n// local components\nimport { ContainerPage } from '../components/general/ContainerPage';\nimport { BookingCalendar } from '../components/booking/BookingCalendar';\n\n\ninterface HomeProps {}\n\nexport const Home: React.FC<HomeProps> = ({}) => {\n  return (\n    <ContainerPage>\n      <Box>\n        <BookingCalendar />\n      </Box>\n    </ContainerPage>\n  );\n}","import { User } from \"../types/User\";\n\nexport const signupValidation = (values: User) => {\n  const errors : any = {};\n  if (!values.email) {\n    errors.email = 'Ingresa una dirección de correo electrónico';\n  } else if (\n    !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\n  ) {\n    errors.email = 'Ingresa una dirección de correo electrónico';\n  }\n\n  if (!values.password) {\n    errors.password = 'Ingresa una contraseña'\n  }\n\n  if (!values.firstName) {\n    errors.firstName = 'Ingresa un nombre'\n  }\n\n  if (!values.lastName) {\n    errors.lastName = 'Ingresa un apellido'\n  }\n  \n\n  return errors;\n}","import React, { useState } from 'react'\nimport { Box, Button, Heading, Text, VStack, Link, Divider } from '@chakra-ui/react';\nimport { Form, Formik } from 'formik';\nimport { Link as Lnk, useHistory } from 'react-router-dom';\n\nimport { Wrapper } from '../components/general/Wrapper';\nimport { InputField, PasswordInputField } from '../components/general/InputField';\nimport { UserService } from '../services/userService';\nimport { User } from '../types/User';\nimport { AlertError } from '../components/general/AlertError';\nimport { signupValidation } from '../validations/signupValidation';\n\ninterface SignupProps {}\n\nexport const Signup: React.FC<SignupProps> = ({}) => {\n  const history = useHistory();\n  const [error, setError] = useState('');\n\n  const onSubmit = async (values: User) => {\n    const userService = new UserService();\n    const response = await userService.signup(values);\n\n    if (!response.success && response.message) {\n      setError(response.message);\n      return;\n    }\n\n    history.push('/');\n\n  };\n\n  const initialState = {\n    email: '',\n    password: '',\n    firstName: '',\n    lastName: '',\n  }\n  return (\n    <Wrapper variant=\"small\">\n      <Box shadow='md' my={0} mx=\"auto\" textAlign='center' p={10} bg='surface'>\n        <Heading as='h1'>Bienvenido</Heading>\n        <Text mt={2} fontWeight='bold'>Registrate gratis.</Text>\n        <Box mt={4}>\n          <Formik initialValues={initialState} onSubmit={onSubmit} validate={signupValidation}>\n            {({ isSubmitting }) => (\n              <Form>\n                <VStack spacing={4}>\n                  <InputField name='firstName' label='Nombre' />\n                  <InputField name='lastName' label='Apellido' />\n                  <InputField name='email' label='Correo eletrónico' />\n                  <PasswordInputField name='password' label='Contraseña' />\n                  <Button isLoading={isSubmitting} type='submit' size='lg' variant='primary' isFullWidth>Registrate</Button>\n\n                  { error && <AlertError description={error} /> }\n\n                  <Text as=\"em\" fontSize='sm'>Al registrarte, confirmas que aceptas los <Link href='#' color=\"teal.500\">Términos y condiciones</Link> y la <Link href='#' color=\"teal.500\">Política de privacidad</Link>.</Text>\n\n                  <Divider orientation='horizontal' my={4} />\n                  <Text mb={2}>¿Ya tienes tu cuenta?{\" \"}\n                    <Link as={Lnk} to='/login' color='primary' fontWeight='bold'>\n                      Iniciar sesion\n                    </Link>\n                  </Text>\n                </VStack>\n              </Form>\n            )}\n          </Formik>\n        </Box>\n      </Box>\n    </Wrapper>\n  );\n}","import React from 'react'\nimport { Box, Flex, HStack, Link, Text } from '@chakra-ui/react';\nimport { Link as Lnk } from 'react-router-dom';\n\ninterface WrapperSettingsProps {\n\n}\n\nconst MenuLink: React.FC<{ title: string, href: string }> = ({title, href}) => (\n  <Link as={Lnk} to={href} fontWeight='bold' pr={4}>\n    <Flex direction='row'>\n      <Text fontSize='md'>{title}</Text>\n    </Flex>\n  </Link>\n)\n\nexport const WrapperSettings: React.FC<WrapperSettingsProps> = ({ children }) => {\n  return (\n    <Box>\n      <HStack mt={4} borderBottomWidth={1} borderColor='borders' py={3}>\n        {/* <MenuLink title='Servicios' href='/settings/services' /> */}\n        <MenuLink title='Datos básicos' href='/settings' />\n        <MenuLink title='Ubicación' href='/settings/location' />\n        {/* <MenuLink title='Dirección' href='/settings/address' /> */}\n        <MenuLink title='Horario' href='/settings/hours' />\n        <MenuLink title='Fotos' href='/settings/photos' />\n        {/* <MenuLink title='Usuario' href='/settings' /> */}\n      </HStack>\n\n      <Box my={4} bg='surface' borderColor='borders' borderWidth={1} p={6} borderRadius={3}>\n        {children}\n      </Box>\n\n    </Box>\n  );\n}","import { IBusiness } from \"../types/Business\";\n\nexport const businessValidation = (values: IBusiness) => {\n  const errors : any = {};\n  \n  if (!values.name) {\n    errors.name = 'Ingresa el nombre de tu negocio'\n  }\n\n  if (Number(values.businessCategoryId) === 0) {\n    errors.businessCategoryId = 'Ingresa una categoría'\n  }\n\n  return errors;\n}","import { Flex, Spinner } from '@chakra-ui/react';\nimport React from 'react'\n\ninterface LoadingViewProps {}\n\nexport const LoadingView: React.FC<LoadingViewProps> = () => {\n  return (\n    <Flex direction='column' justify='center' align='center' flex={1} w='100%' height='100vh'>\n      <Spinner size='md' color='primary' />\n    </Flex>\n  );\n}","// libraries\nimport React, { useEffect, useState } from 'react'\nimport { Box, VStack, Select, Button, FormControl, FormLabel, Heading, FormErrorMessage, useToast } from '@chakra-ui/react';\nimport { Form, Formik } from 'formik';\n\nimport { ContainerPage } from '../components/general/ContainerPage';\nimport { InputField, TextareaField } from '../components/general/InputField';\nimport { WrapperSettings } from '../components/general/WrapperSettings';\nimport { BusinessService } from '../services/businessService';\nimport { IBusiness } from '../types/Business';\nimport { businessValidation } from '../validations/businessValidation';\nimport { Loading } from '../components/general/Loading';\nimport { LoadingView } from '../components/general/LoadingView';\n\n// local components\n\ninterface SettingsProps {}\n\nexport const Settings: React.FC<SettingsProps> = () => {\n  const [business, setBusiness] = useState<IBusiness | null>(null);\n  const toast = useToast();\n\n  useEffect(() => {\n    const fetchBusiness = async () => {\n      const { business } = await new BusinessService().get();\n      console.log('Business', business);\n      \n      setBusiness(business);\n    }\n    fetchBusiness();\n  }, []);\n\n  const onSubmit = async (values: IBusiness) => {\n    if (business && business.id) {\n      const response =await new BusinessService().update(values, business.id)\n      if (response.success) {\n        toast({\n          title: \"Datos actualizados.\",\n          status: \"success\",\n          isClosable: true,\n          position: 'top'\n        });\n      }\n      console.log('respuesta', response);\n    }\n  }\n\n  if(!business) {\n    return <LoadingView />\n  }\n\n  const initialValues : IBusiness = {\n    name: business.name ? business.name : '',\n    description: business.description ? business.description : '',\n    businessCategoryId: business.businessCategoryId ? business.businessCategoryId : 0,\n    phone: business.phone ? business.phone : ''\n  }\n\n  return (\n    <ContainerPage title='Configuración'>\n      <WrapperSettings>\n        <Box w='70%'>\n          <Heading as='h2' size='md' mb={8}>Datos básicos</Heading>\n          <Formik initialValues={initialValues} onSubmit={onSubmit} validate={businessValidation}>\n            { (({ isSubmitting, values, handleChange, errors }) => (\n              <Form>\n                <VStack spacing={8} align='flex-start'>\n                  <InputField inputSize='lg' name='name' label='Nombre del negocio' />\n                  <TextareaField inputSize='lg' name='description' label='Descripción del negocio (opcional)' rows={4} />\n                  <FormControl isInvalid={!!errors.businessCategoryId}>\n                    <FormLabel fontWeight='bold' fontSize='sm'>Categoría</FormLabel>\n                    <Select name='businessCategoryId' size='lg' value={values.businessCategoryId} onChange={handleChange}>\n                      <option value='0' >Selecciona una categoría</option>\n                      <option value='1' >Salon</option>\n                      <option value='2' >Spa</option>\n                      <option value='3' >Barberia</option>\n                      <option value='4' >Tatuajes</option>\n                      <option value='5' >Maquillaje</option>\n                      <option value='6' >Podologia</option>\n                      <option value='7' >Servicios para el hogar</option>\n                      <option value='8' >Servicios para el mascotas</option>\n                    </Select>\n                    { errors.businessCategoryId && <FormErrorMessage>{errors.businessCategoryId}</FormErrorMessage> }\n                  </FormControl>\n                  <InputField inputSize='lg' name='phone' label='Teléfono de contacto' />\n                  {/* <HStack spacing={3} w='100%'>\n                    <InputField inputSize='lg' name='category' label='Horario de apertura' />\n                    <InputField inputSize='lg' name='category' label='Horario de clausura' />\n                  </HStack> */}\n                  <Button variant='primary' size='lg' type='submit' isLoading={isSubmitting}>\n                    Guardar\n                  </Button>\n                </VStack>\n              </Form>\n            )) }\n          </Formik>\n        </Box>\n      </WrapperSettings>\n    </ContainerPage>\n  );\n}","import React, { useEffect, useState } from 'react'\nimport { Box, Button, Flex, FormLabel, Text, useToast, Image } from '@chakra-ui/react';\n\nimport { BusinessService } from '../../services/businessService';\n\ninterface UploadCoverProps {\n  onUpload?: any\n}\n\nconst acceptedFileTypes = 'image/x-png, image/png, image/jpg, image/jpeg';\n\nexport const UploadCover: React.FC<UploadCoverProps> = ({ onUpload }) => {\n  // hooks\n  const toast = useToast();\n\n  // state\n  const [cover, setCover] = useState('');\n  const [isUploading, setIsUplaoding] = useState(false);\n\n  const fetch = async () => {\n    const response = await new BusinessService().get();\n    setCover(response.business.cover);\n  }\n\n  useEffect(() => {\n    fetch();\n  }, [])\n\n  const onChange = async (e :any) => {\n    setIsUplaoding(true);\n\n    const data = new FormData();\n    data.append('file', e.target.files[0]);\n    await new BusinessService().uplaodCover(data);\n\n    fetch();   \n\n    toast({\n      title: \"Datos actualizados.\",\n      status: \"success\",\n      isClosable: true,\n      position: 'top'\n    });\n\n    setIsUplaoding(false);\n\n    if (onUpload) {\n      onUpload();\n    }\n\n  }\n\n  return (\n    <>\n      <Box w='60%' pr={10}>\n        <Text fontWeight='bold' mb={4}>Foto de portada</Text>\n        <Text fontSize='sm' color='subtext' mb={3}>Tu foto de portada es la primera impresión que tienen tus clientes de tu negocio.</Text>\n        <Text fontSize='sm' color='subtext'>\n          {/* Directrices importantes: Tamańo recomendado 930 x 620 píxeles; formato .jpg, .jpeg, o .png. */}\n          Directrices importantes: Tamaño recomendado 780 x 520 píxeles; formato .jpg, .jpeg, o .png.\n        </Text>\n        <Button variant='primary-outline' isLoading={isUploading} p={0} mt={4}>\n          <FormLabel w='100%' h='100%' htmlFor='file' m={0} p={2} px={4} >Cambiar foto</FormLabel>\n        </Button>\n\n        <input\n          type=\"file\"\n          id=\"file\" \n          name='file'\n          accept={acceptedFileTypes} \n          multiple={false} \n          onChange={onChange}\n          style={{ display: 'none' }}\n        />\n      </Box>\n      <Flex w='40%' justify='center' alignItems='center'>\n        <Image src={cover} w='300px' h='200px' objectFit=\"cover\" loading='eager' />\n      </Flex>\n    </>\n  );\n}","import { Box, Button, Flex, Heading, Text } from '@chakra-ui/react';\nimport React from 'react'\nimport { useHistory } from 'react-router-dom';\nimport { UploadCover } from '../gallery/UploadCover';\n\ninterface BoardingCoverProps {\n\n}\n\nexport const BoardingCover: React.FC<BoardingCoverProps> = ({}) => {\n  const history = useHistory();\n\n  const handleOnUpload = () => {\n    // history.push('/new-business/6');\n  }\n\n  return (\n    <Box textAlign='center'>\n      <Heading as='h2'>Foto de portada</Heading>\n      <Text fontSize='xl' fontWeight='500'>Esta es la primera imagen que verán las personas, puede ser el logotipo de tu negocio, imagen de tu local o una imagen de un servicio.</Text>\n      <Flex w='100%' justify='space-between' mt={10}>\n        <UploadCover onUpload={handleOnUpload} />\n      </Flex>\n\n      <Box textAlign='right' mr={4}>\n        <Button size='lg' mt={10} variant='primary' onClick={() => history.push('/new-business/6')}>\n          Siguiente\n        </Button>\n      </Box>\n    </Box>\n  );\n}","import React, { useEffect, useState } from 'react'\nimport { Box, Button, Flex, FormControl, Heading, HStack, IconButton, Select, Text, Tooltip, VStack } from '@chakra-ui/react';\nimport { useHistory } from 'react-router-dom';\n\nimport { Form, Formik } from 'formik';\nimport { BusinessService } from '../../services/businessService';\nimport { FaDoorClosed, FaDoorOpen } from 'react-icons/fa';\nimport { IBusiness } from '../../types/Business';\nimport { Loading } from '../general/Loading';\n\ninterface BoardingHoursProps {}\n\nexport const BoardingHours: React.FC<BoardingHoursProps> = () => {\n  const history = useHistory()\n  const [business, setBusiness] = useState<Required<IBusiness> | null>(null);\n\n  const [hours, setHours] = useState<string[]>([]);\n\n  const getBusiness = async () => {\n    const { success, business }  = await new BusinessService().get();\n    if (success) {\n      setBusiness(business);\n    }\n  }\n\n  useEffect(() => {\n    getBusiness();\n    getHours();\n  }, []);\n\n  const getHours = () => {\n    var arr = [], i, j;\n    for(i=0; i<24; i++) {\n      for(j=0; j<2; j++) {\n        arr.push(i + \":\" + (j===0 ? \"00\" : 30*j) );\n      }\n    }\n    setHours(arr);\n  }\n\n  const onSubmit = async (values: any) => {\n    if (business) {\n      const response = await new BusinessService().createHours(values, business.id);\n      if (response.success) {\n        history.push('/new-business/5');\n      }\n    }\n  }\n\n  const formDay = (values: any, handleChange: any, setFieldValue: any, label: string, dayOfWeek: number) => {\n    const isOpen : boolean = values.days[dayOfWeek].isOpen;\n    const { openFrom, openTill } = values.days[dayOfWeek];\n    return (\n      <HStack w='100%' direction='row' justify='center' align='center'>\n        <Text w='250px' textAlign='left' fontWeight='semibold'>{label}</Text>\n        <FormControl>\n          <Select name={`days[${dayOfWeek}].openFrom`} size='lg' value={openFrom} onChange={handleChange} isDisabled={!isOpen}>\n            { hours.map((time, key) => (\n              <option key={key} value={time}>{time}</option>\n            ))}\n          </Select>\n        </FormControl>\n        \n        <FormControl>\n          <Select name={`days[${dayOfWeek}].openTill`} size='lg' value={openTill} onChange={handleChange} isDisabled={!isOpen}>\n            { hours.map((time, key) => (\n              <option key={key} value={time}>{time}</option>\n            ))}\n          </Select>\n        </FormControl>\n        <Tooltip label={isOpen ? 'Cerrar este día' : 'Abrir este día'} fontSize=\"md\">\n          <IconButton\n            colorScheme=\"teal\"\n            aria-label=\"Call Segun\"\n            size=\"lg\"\n            icon={isOpen ? <FaDoorOpen /> : <FaDoorClosed />}\n            onClick={() => setFieldValue(`days[${dayOfWeek}].isOpen`, !isOpen )}\n          />\n        </Tooltip>\n      </HStack>\n    )\n  }\n\n  if (!business) {\n    return <Loading />\n  }\n\n  const initialValue = {\n    days: [\n      { businessId: business.id, openFrom: '9:00', openTill: '20:00', isOpen: true, dayOfWeek: 0 },\n      { businessId: business.id, openFrom: '9:00', openTill: '20:00', isOpen: true, dayOfWeek: 1 },\n      { businessId: business.id, openFrom: '9:00', openTill: '20:00', isOpen: true, dayOfWeek: 2 },\n      { businessId: business.id, openFrom: '9:00', openTill: '20:00', isOpen: true, dayOfWeek: 3 },\n      { businessId: business.id, openFrom: '9:00', openTill: '20:00', isOpen: true, dayOfWeek: 4 },\n      { businessId: business.id, openFrom: '9:00', openTill: '20:00', isOpen: true, dayOfWeek: 5 },\n      { businessId: business.id, openFrom: '9:00', openTill: '20:00', isOpen: true, dayOfWeek: 6 },\n    ]\n  }\n\n  return (\n    <Box textAlign='center'>\n    <Heading as='h2'>¿Cuál es el horario de tu negocio?</Heading>\n      <Text fontSize='xl' fontWeight='500'>Ingresa el horario de tu negocio ya que será la hora disponible para hacer reservaciones.</Text>\n      \n      <Formik initialValues={initialValue} onSubmit={onSubmit}>\n        { (({ isSubmitting, values, handleChange, setFieldValue }) => (\n          <Form>\n            <Flex align='center' w='100%' justify='center' mt={10}>\n              <VStack w='80%' spacing={3}>\n                { formDay(values, handleChange, setFieldValue, 'Lunes', 0) }\n                { formDay(values, handleChange, setFieldValue, 'Martes', 1) }\n                { formDay(values, handleChange, setFieldValue, 'Miércoles', 2) }\n                { formDay(values, handleChange, setFieldValue, 'Jueves', 3) }\n                { formDay(values, handleChange, setFieldValue, 'Viernes', 4) }\n                { formDay(values, handleChange, setFieldValue, 'Sábado', 5) }\n                { formDay(values, handleChange, setFieldValue, 'Domingo', 6) }\n                <Button size='lg' alignSelf='flex-end' variant='primary' type='submit' isLoading={isSubmitting}>Siguiente</Button>\n              </VStack>\n            </Flex>\n          </Form>\n        )) }\n      </Formik>\n    </Box>\n  );\n}","import { URL_API } from \"../config/constants\";\nimport { BusinessAddress, BusinessAddressResponse } from \"../types/BusinessAddress\";\nimport HttpClient from \"./HttpClient\";\n\nexport class BusinessAddressService extends HttpClient {\n  constructor() {\n    super(URL_API)\n  }\n\n  get = (businessId: number) => this.instance.get<BusinessAddressResponse>(`/businesses/${businessId}/addresses`);\n  create = (data: BusinessAddress, businessId: number) => this.instance.post(`/businesses/${businessId}/addresses`, data);\n  update = (data: BusinessAddress, businessId: number, id: number) => this.instance.put<BusinessAddressResponse>(`/businesses/${businessId}/addresses/${id}`, data);\n}","import { useEffect, useRef } from \"react\";\n\nexport const useGoogleMaps = ({ coords, setCoords } : any) : any => {\n  const refContainer = useRef<any>();\n  const refMap = useRef<google.maps.Map>();\n  const refMarker = useRef<google.maps.Marker>();\n  \n  useEffect(() => {\n    const uluru = { lat: coords.lat, lng: coords.lng };\n    const map = new google.maps.Map(refContainer.current, {\n      center: uluru,\n      zoom: 17,\n      scrollwheel: false,\n      streetViewControl: false,\n      fullscreenControl: false,\n      mapTypeControl: false,\n      zoomControl: true,\n      disableDoubleClickZoom: true,\n      zoomControlOptions: { position: google.maps.ControlPosition.TOP_LEFT }\n    });\n\n      refMap.current = map;\n\n      map.addListener('dragend', () => {\n        const { lat, lng } = map.getCenter();\n        console.log('DRAGGEG', lat, lng);\n        \n        setCoords({ lat: lat(), lng: lng() });\n      });\n\n  }, []);\n\n  const addMarker = ({ lat, lng } : any) => {\n    if (refMap.current) {\n      const mark = new google.maps.Marker({ position: { lat, lng }, map: refMap.current, draggable: true })\n      refMarker.current = mark;\n      if (mark) {\n        mark.addListener('dragend', (e: any) => {\n          setCoords({ lat: e.latLng.lat(), lng: e.latLng.lng() })\n        });\n      }\n    } \n  }\n\n  const changeLocation = (coords :any) => {\n    if (refMap.current) {\n      refMap.current.setCenter(coords);\n    }\n  }\n\n  return {\n    refContainer,\n    addMarker,\n    changeLocation,\n  }\n}","import React, { useState, useEffect, useRef } from 'react'\nimport { Box, Flex, Input, VStack, Text, Progress, Button } from '@chakra-ui/react';\nimport { Form, Formik } from 'formik';\nimport PlacesAutocomplete, {\n  geocodeByAddress,\n  getLatLng,\n} from 'react-places-autocomplete';\nimport mapboxgl, { Map, Marker } from 'mapbox-gl';\n\nimport { BusinessAddressService } from '../../services/businessAddressService';\nimport { TOKEN_MAPBOX } from '../../config/constants';\nimport { IBusiness } from '../../types/Business';\nimport { BusinessAddress, BusinessAddressResponse } from '../../types/BusinessAddress';\nimport { useGoogleMaps } from '../../hooks/useMap';\n\ninterface AddressFormProps {\n  handleSaveAddress: any\n  business: Required<IBusiness>\n}\n\nexport const AddressForm: React.FC<AddressFormProps> = ({ handleSaveAddress, business }) => {\n  \n  const [address, setAddresss] = useState<BusinessAddress | null>(null);\n  \n  const [geoAddress, setGeoAddress] = useState<string>('');\n  const [coords, setCoords] = useState({ lat: 25.6866142, lng: -100.3161126 });\n  \n  const [state, setState] = useState('');\n  const [city, setCity] = useState('');\n\n  const { refContainer, addMarker, changeLocation } = useGoogleMaps({ coords, setCoords });\n  \n  const fetchAddress = async () => {\n    const { success, address } = await new BusinessAddressService().get(business.id);\n    if (success && address) {\n      setAddresss(address);\n      setGeoAddress(address.addressMap);\n      setCoords({ lat: address.lat, lng: address.lng });\n      changeLocation({ lat: address.lat, lng: address.lng });\n      addMarker({ lat: address.lat, lng: address.lng });\n    }\n  }\n\n  useEffect(() => {\n    fetchAddress();\n  }, []);\n\n  const onSubmit = async () => {\n    let response : BusinessAddressResponse;\n    if (business.id) {\n      if (address?.id) {\n        response = await new BusinessAddressService().update({ lat: coords.lat, lng: coords.lng, addressMap: geoAddress, state, city }, business.id, address.id);\n      } else {\n        response = await new BusinessAddressService().create({ lat: coords.lat, lng: coords.lng, addressMap: geoAddress, state, city }, business.id);\n      }\n      if (response.success && response.address) {\n        setAddresss(response.address);\n      }\n      \n      if (handleSaveAddress) {\n        handleSaveAddress();\n      }\n    }\n  }\n\n  const handleSelect = async (address: string) => {\n    setGeoAddress(address);\n    const results = await geocodeByAddress(address)\n    fillInAddress(results[0]);\n    \n    const latLng = await getLatLng(results[0]);\n    setCoords(latLng);\n    changeLocation(latLng);\n    addMarker(latLng);\n  }\n\n  const fillInAddress = (place: google.maps.GeocoderResult) => {\n    const addressComponent : google.maps.GeocoderAddressComponent[] = place.address_components;\n    for (var i = 0; i < addressComponent.length; i++) {\n      if (addressComponent[i].types[0] === 'locality') {\n        const locality : any = addressComponent[i];\n        console.log('locality', locality.long_name);\n        setCity(locality.long_name);\n      }\n      if (addressComponent[i].types[0] === 'administrative_area_level_1') {\n        const administrativeArea : any = addressComponent[i];\n        console.log('administrative_area_level_1', administrativeArea.long_name);\n        setState(administrativeArea.long_name);\n      }\n    }\n  }\n\n\n  const initialValues = {\n    street: '',\n    area: '',\n    city: '',\n    state: ''\n  }\n  \n  return (\n    <Box>\n      <Formik initialValues={initialValues} onSubmit={onSubmit}>\n        { (({ isSubmitting }) => (\n          <Form>\n            <Flex aling='center' justify='center' py={10}>\n              <VStack w='100%' align='flex-start'>\n                <Text fontWeight='bold'>Ingresa la dirección completa de tu negocio</Text>\n                <PlacesAutocomplete\n                  value={geoAddress}\n                  onChange={(geoaddress) => setGeoAddress(geoaddress)}\n                  onSelect={handleSelect}\n                  searchOptions={{ componentRestrictions: { country: ['mx'] } }}\n                >\n                  { (({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\n                      <Box w='100%'>\n                        <Input {...getInputProps()} placeholder='Dirección ' size='lg' />\n                        <Box shadow='md' background='#FFFFFF'>\n                          { loading && <Progress size=\"xs\" isIndeterminate colorScheme='green' /> }\n                          {suggestions.map(suggestion => {\n                            return (\n                              <Box {...getSuggestionItemProps(suggestion, { key: suggestion.id })} textAlign='left' p={2}>\n                                <Text fontWeight='bold'>{suggestion.description}</Text>\n                              </Box>\n                            );\n                          })}\n                        </Box>\n                      </Box>\n                  )) }\n                </PlacesAutocomplete>\n              </VStack>\n            </Flex>\n            <Box>\n              <Box ref={refContainer} h='200px' w='100%' />\n              {/* <Text fontWeight='bold' fontSize='xs' mt={2}>Mueve el marcador si es necesario pero asegurate que este en el lugar correcto.</Text> */}\n              <Text fontWeight='bold' fontSize='xs' mt={2}>Si es necesario, ajusta el mapa para que el pin aparezca en la ubicación correcta.</Text>\n              \n            </Box>\n\n            <Flex mt={4} align='flex-end' justifyContent='flex-end'>\n              <Button disabled={!geoAddress} isLoading={isSubmitting} size='lg' variant='primary' type='submit'>Siguiente</Button>\n            </Flex>\n          </Form>\n        )) }\n      </Formik>\n      \n      {/* <Box w='100%' h='200px' id='map'></Box> */}\n    </Box>\n  );\n}","import { Box, Heading, Text } from '@chakra-ui/react';\nimport React, { useEffect, useState } from 'react'\nimport { useHistory } from 'react-router-dom';\nimport { BusinessService } from '../../services/businessService';\nimport { IBusiness } from '../../types/Business';\nimport { AddressForm } from '../business/AddressForm';\nimport { Loading } from '../general/Loading';\n\ninterface BoardingInformationProps {\n  setStep: any\n}\n\nexport const BoardingInformation: React.FC<BoardingInformationProps> = ({ setStep }) => {\n  const [business, setBusiness] = useState<Required<IBusiness> | null>(null);\n  const history = useHistory();\n  \n  const handleSaveAddress = () => {\n    history.push('/new-business/3');\n  }\n\n  const getBusiness = async () => {\n    const { success, business }  = await new BusinessService().get();\n    if (success) {\n      setBusiness(business);\n    }\n  }\n\n  useEffect(() => {\n    getBusiness();\n  }, []);\n\n  if (!business) {\n    return <Loading />\n  }\n\n  return (\n    <Box textAlign='center'>\n      <Heading as='h2'>¿Cuál es la dirección de tu negocio?</Heading>\n      <Text fontSize='xl' fontWeight='500'>Ingresa la información lo más precisa posible para que tus clientes te puedan localizar.</Text>\n      { business && <AddressForm handleSaveAddress={handleSaveAddress} business={business} /> }\n    </Box>\n  );\n}","import * as Yup from 'yup';\n\n export const NewServiceSchema = Yup.object().shape({\n\n   name: Yup.string()\n    .min(5, 'Demasíado corto, minimo 5 letras.')\n    .max(200, 'Maximo 200 letras.')\n    .required('Ingresa un nombre'),\n\n  price:Yup.number()\n    .min(1)\n    .required('Ingresa el precio'),\n\n  time: Yup.string()\n  .required('Ingresa el tiempo'),\n });","import React, { useEffect, useState } from 'react'\nimport { Box, Button, Flex, FormControl, FormErrorMessage, FormLabel, Heading, HStack, NumberInput, NumberInputField, Select, Text, VStack } from '@chakra-ui/react';\nimport { useHistory } from 'react-router-dom';\n\nimport { Form, Formik } from 'formik';\nimport { InputField } from '../general/InputField';\nimport { BusinessService } from '../../services/businessService';\nimport { IService } from '../../types/IService';\nimport { IBusiness } from '../../types/Business';\nimport { NewServiceSchema } from '../../validations/newServiceValidation';\n\ninterface BoardingServicesProps {}\n\nexport const BoardingServices: React.FC<BoardingServicesProps> = ({}) => {\n  const [business, setBusiness] = useState<Required<IBusiness> | null>(null);\n\n  const history = useHistory()\n\n  const getBusiness = async () => {\n    const { success, business }  = await new BusinessService().get();\n    if (success) {\n      setBusiness(business);\n    }\n  }\n\n  useEffect(() => {\n    getBusiness();\n  }, []);\n\n  const onSubmit = async (values: IService) => {\n    if (business) {\n      const { success } = await new BusinessService().createService(values, business.id)\n      if (success) {\n        history.push('/new-business/4');\n      }\n    }\n  }\n\n  const initialValue = {\n    name: '',\n    description: '',\n    time: '',\n    price: '',\n  }\n\n  return (\n    <Box textAlign='center'>\n    <Heading as='h2'>¿Qué servicios realizas?</Heading>\n      <Text fontSize='xl' fontWeight='500'>Añade un servicio para empezar a utilizar Boombook</Text>\n      \n      <Formik initialValues={initialValue} onSubmit={onSubmit} validationSchema={NewServiceSchema}>\n        { (({ isSubmitting, values, handleChange, setFieldValue, errors }) => (\n          <Form>\n            <Flex align='center' w='100%' justify='center' mt={10}>\n              <VStack w='70%' spacing={3}>\n                <InputField inputSize='lg' name='name' label='Nombre del servicio' />\n                <InputField inputSize='lg' name='description' label='Descripción' />\n                <HStack w='100%' direction='row' justify='space-between'>\n                  <FormControl isInvalid={!!errors.price}>\n                    <FormLabel fontWeight='bold' fontSize='sm'>Precio</FormLabel>\n                    <NumberInput name='price' size='lg' onChange={(value) => setFieldValue('price', value)} value={values.price}>\n                      <NumberInputField />\n                    </NumberInput>\n                    { errors.price && <FormErrorMessage>{errors.price}</FormErrorMessage> }\n                  </FormControl>\n                  {/* <InputNumberField inputSize='lg' name='Precio' label='Tiempo que dura (minutos)' placeholder='Ej. 45' /> */}\n                  {/* <InputField inputSize='lg' name='time' label='Tiempo que dura (minutos)' placeholder='Ej. 45' /> */}\n                  <FormControl isInvalid={!!errors.time}>\n                    <FormLabel fontWeight='bold' fontSize='sm'>Tiempo</FormLabel>\n                    <Select name='time' size='lg' placeholder=\"Seleccione la duración\" value={values.time} onChange={handleChange}>\n                      <option value=\"15\">15 min.</option>\n                      <option value=\"30\">30 min.</option>\n                      <option value=\"45\">45 min.</option>\n                      <option value=\"45\">45 min.</option>\n                      <option value=\"60\">1:00 hr.</option>\n                      <option value=\"75\">1:15 hr.</option>\n                      <option value=\"90\">1:30 hr.</option>\n                      <option value=\"105\">1:45 hr.</option>\n                      <option value=\"120\">2:00 hr.</option>\n                      <option value=\"135\">2:15 hr.</option>\n                      <option value=\"140\">2:30 hr.</option>\n                    </Select>\n                    <FormErrorMessage>{errors.time}</FormErrorMessage>\n                  </FormControl>\n                </HStack>\n                <Button size='lg' alignSelf='flex-end' variant='primary' type='submit' isLoading={isSubmitting}>Siguiente</Button>\n              </VStack>\n            </Flex>\n          </Form>\n        )) }\n      </Formik>\n    </Box>\n  );\n}","import React, { useEffect, useState } from 'react'\nimport { Button, Flex, Heading, Text } from '@chakra-ui/react'\nimport { AiFillCheckCircle } from 'react-icons/ai';\nimport { APP_NAME } from '../../config/constants';\nimport { useHistory } from 'react-router-dom';\nimport { BusinessService } from '../../services/businessService';\nimport { IBusiness } from '../../types/Business';\n\ninterface BoardingSuccessProps {\n  \n}\n\nexport const BoardingSuccess: React.FC<BoardingSuccessProps> = ({ }) => {\n  const history = useHistory();\n\n  const [business, setBusiness] = useState<Required<IBusiness> | null>(null);\n  \n  const getBusiness = async () => {\n    const { success, business }  = await new BusinessService().get();\n    if (success) {\n      setBusiness(business);\n    }\n  }\n\n  useEffect(() => {\n    getBusiness();\n  }, []);\n\n  const publishBusiness = async () => {\n    const data : IBusiness = { isCompleted: true, isPublic: true };\n    if (business) {\n      const response = await new BusinessService().update(data, business.id);\n      if (response.success) {\n        history.push('/');\n      }\n    }\n  }\n\n  return (\n    <Flex align='center' direction='column' textAlign='center'>\n      <AiFillCheckCircle size={90} color='#25CB67' />\n      <Heading my={6} as='h2'>Completado</Heading>\n      <Text fontSize='xl' fontWeight='500' mb={3}>\n        Gracias por registrate en {APP_NAME}, toda la información registrada anteriormente puede ser modificada desde la página de configuración.\n      </Text>\n      <Text fontSize='md' fontWeight='500'>\n        Te sugerimos ir al módulo de configuración para que añadas más servicios y publiques tu galería de fotos.\n      </Text>\n      \n\n      <Button variant='primary' size='lg' mt={6} px={16} onClick={publishBusiness}>\n        Aceptar y publicar\n      </Button>\n    </Flex>\n  );\n}","import * as Yup from 'yup';\n\n export const welcomeValidationSchema = Yup.object().shape({\n\n   name: Yup.string()\n    .min(5, 'Demasíado corto, minimo 5 letras.')\n    .max(200, 'Maximo 200 letras.')\n    .required('Ingresa un nombre'),\n\n    businessCategoryId: Yup.number()\n    .min(1, 'Selecciona una categoría')\n    .required('Selecciona una categoría'),\n });","import HttpClient from './HttpClient';\n\nimport { API_DOMAIN, URL_API } from \"../config/constants\";\n\nexport class CategoryService extends HttpClient {\n\n  public constructor() {\n    super(`${API_DOMAIN}/api/v1`);\n  }\n\n  public getAll = () => this.instance.get('/categories');\n}","import React, { useEffect, useState } from 'react'\nimport { useHistory } from 'react-router-dom';\n\nimport { Box, Button, Flex, FormControl, FormErrorMessage, FormLabel, Heading, Select, Text, VStack } from '@chakra-ui/react';\nimport { Form, Formik } from 'formik';\nimport { BusinessService } from '../../services/businessService';\nimport { IBusiness } from '../../types/Business';\nimport { User } from '../../types/User';\nimport { InputField, TextareaField } from '../general/InputField';\nimport { welcomeValidationSchema } from '../../validations/welcomeValidation';\nimport { CategoryService } from '../../services/categoryService';\n\ninterface WelcomeProps {\n  user: User\n  business?: IBusiness | null\n}\n\nexport const Welcome: React.FC<WelcomeProps> = ({ user, business }) => {\n  const history = useHistory();\n\n  // state\n  const [categories, setCategories] = useState([]);\n\n  useEffect(() => {\n    const fetchCategories = async () => {\n      const response = await new CategoryService().getAll();\n      if (response.success) {\n        setCategories(response.categories);\n      }\n    }\n    fetchCategories();\n  }, []);\n\n  const onSubmit = async (values: IBusiness) => {\n    if (business && business.id) {\n      await new BusinessService().update(values, business.id);\n    } else {\n      await new BusinessService().create(values);\n    }\n    history.push('/new-business/2');\n  }\n\n  return (\n    <Box textAlign='center'>\n      <Heading as='h2'>Estamos contentos de que estés aquí {user.firstName}.</Heading>\n      <Text fontSize='xl' fontWeight='500'>Estás a un paso de comenzar a organizar tus clientes.</Text>\n\n      <Formik initialValues={{ name: business ? business.name : '', businessCategoryId: business ? business.businessCategoryId : 0 }} onSubmit={onSubmit} validationSchema={welcomeValidationSchema}>\n        { ({ values, isSubmitting, handleChange, errors }) => (\n          <Form>\n            <Flex aling='center' justify='center' py={10} w='100%' direction='column' justifyContent='center' align='center'>\n              <Box w='70%'>\n                <VStack spacing={5} align='flex-start'>\n                  <InputField inputSize='lg' name='name' label='¿Cual es el nombre de tu negocio?'/>\n                  <FormControl isInvalid={!!errors.businessCategoryId}>\n                      <FormLabel fontWeight='bold' fontSize='sm'>Categoría</FormLabel>\n                      <Select name='businessCategoryId' size='lg' value={values.businessCategoryId} onChange={handleChange}>\n                        <option value='0' >Selecciona una categoría</option>\n                        { categories.map((item: any) => (\n                          <option value={item.id} key={item.id}>{item.name}</option>\n                        )) }\n                      </Select>\n                      { errors.businessCategoryId && <FormErrorMessage>{errors.businessCategoryId}</FormErrorMessage> }\n                    </FormControl>\n                    <TextareaField inputSize='lg' name='description' label='Descripción del negocio (opcional)' rows={3} />\n                    <InputField inputSize='lg' name='phone' label='Teléfono del negocio' />\n                  <Box textAlign='right' alignSelf='flex-end'>\n                    <Button\n                      variant='primary'\n                      size='lg'\n                      type='submit'\n                      isLoading={isSubmitting}\n                    >\n                      Siguiente\n                    </Button>\n                  </Box>\n                </VStack>\n              </Box>\n            </Flex>\n          </Form>\n        ) }\n      </Formik>\n    </Box>\n  );\n}","import { Box, Heading, Progress } from '@chakra-ui/react';\nimport React, { useEffect, useState } from 'react'\nimport { useParams } from 'react-router-dom';\nimport { Header } from '../components/general/Header';\nimport { Loading } from '../components/general/Loading';\nimport { BoardingCover } from '../components/onboarding/BoardingCover';\nimport { BoardingHours } from '../components/onboarding/BoardingHours';\nimport { BoardingInformation } from '../components/onboarding/BoardingInformation';\nimport { BoardingServices } from '../components/onboarding/BoardingServices';\nimport { BoardingSuccess } from '../components/onboarding/BoardingSuccess';\nimport { Welcome } from '../components/onboarding/Welcome';\nimport { BusinessService } from '../services/businessService';\n\nimport { UserService } from '../services/userService';\nimport { IBusiness } from '../types/Business';\nimport { User } from '../types/User';\n\ninterface NewBusinessParams {\n  step?: string | undefined\n}\n\nexport const NewBusiness: React.FC = () => {\n  const params = useParams<NewBusinessParams>();\n  const option = params.step !== undefined ? Number(params.step) : 1;\n\n  const [step, setStep] = useState<number>(option || 1);\n  const [isLoading, setIsLoading] = useState(true);\n  const [user, setUser] = useState<User | null>(null);\n  const [business, setBusiness] = useState<Required<IBusiness> | null>(null);\n  \n\n  useEffect(() => {\n    const option = params.step !== undefined ? Number(params.step) : 1;\n    setStep(option)\n  }, [option, params.step]);\n\n  useEffect(() => {\n    const getMe = async () => {\n      const { success, user } = await new UserService().getMe();\n      if (!user || !success) {\n        return;\n      }\n      setUser(user);\n    };\n  \n    const getBusiness = async () => {\n      const { success, business }  = await new BusinessService().get();\n      if (success) {\n        setBusiness(business);\n      }\n    }\n    getMe();\n    getBusiness();\n    setIsLoading(false);\n    \n  }, []);\n\n  const handleSteps = (step: number) => {\n    setStep(step)\n  }\n\n  const logout = async () => {\n    await new UserService().logout();\n    window.location.href = '/';\n  }\n\n  if (!user || isLoading) {\n    return <Loading />\n  }\n\n  const buildOnboarding = () => {\n    switch (step) {\n      case 1:\n        return <Welcome business={business} user={user} />\n      case 2:\n        return <BoardingInformation setStep={handleSteps} />\n      case 3:\n        return <BoardingServices />\n      case 4:\n        return <BoardingHours />\n      case 5:\n        return <BoardingCover />\n      case 6:\n        return <BoardingSuccess />\n      default:\n        return <Heading>No se pudo cargar la pagina</Heading>\n    }\n  }\n\n  return (\n    <Box bg='#FFFFFF' height='100vh'>\n      { business && <Header user={user} business={business} logout={logout} /> }\n      \n      <Box mx='auto' w='800px' py={4}>\n        <Box>\n          <Progress value={16.66 * step} colorScheme='green' />\n        </Box>\n        <Box mt={6}>\n          { (user && !isLoading) && buildOnboarding() }\n        </Box>\n      </Box>\n    </Box>\n  );\n}","import React, { useContext, useEffect, useState } from 'react'\nimport { Box, Button, Heading, HStack, useToast, VStack , Text} from '@chakra-ui/react';\n\nimport { ContainerPage } from '../components/general/ContainerPage';\nimport { WrapperSettings } from '../components/general/WrapperSettings';\nimport { BusinessAddress } from '../types/BusinessAddress';\nimport { Form, Formik } from 'formik';\nimport { UserContext } from '../components/general/Layout';\nimport { InputField } from '../components/general/InputField';\nimport { BusinessAddressService } from '../services/businessAddressService';\nimport { Loading } from '../components/general/Loading';\nimport { LoadingView } from '../components/general/LoadingView';\n\ninterface SettingsAddressProps {}\n\nexport const SettingsAddress: React.FC<SettingsAddressProps> = () => {\n  const [address, setAddress] = useState<BusinessAddress | null>(null);\n  const businessContext = useContext(UserContext);\n  const toast = useToast();\n  \n  useEffect(() => {\n    const fetchAddress = async () => {\n      const { address } = await new BusinessAddressService().get(businessContext.id);\n      if (address) {\n        setAddress(address);\n      }\n      console.log('Direccion', address);\n    }\n\n    fetchAddress();\n  }, []);\n\n  const onSubmit = async (values: any) => {\n    if (businessContext && businessContext.id && address?.id) {\n      console.log('Id de negocio', businessContext.id, values);\n      const { success } = await new BusinessAddressService().update(values, businessContext.id, address.id);\n      if (success) {\n        toast({\n          title: \"Datos actualizados.\",\n          status: \"success\",\n          isClosable: true,\n          position: 'top'\n        });\n      }\n    }\n  }\n\n  if (!address) {\n    return <LoadingView />\n  }\n\n  const initialValues = {\n    street: address.street ? address.street : '',\n    area: address.area ? address.area : '',\n    city: address.city ? address.city : '',\n    state: address.state ? address.state : '',\n    zipcode: address.zipcode ? address.zipcode : '',\n  }\n\n  return (\n    <ContainerPage title='Configuración'>\n      <WrapperSettings>\n        <Heading as='h2' size='md' mb={2}>Dirección</Heading>\n        <Text fontSize='md' fontWeight='500' mb={8} pr={20}>Esta información es utilizada  si la ubicación por coordenadas no es precisa, así que es recomendable ingresarla.</Text>\n        <Box w='80%'>\n          <Formik initialValues={initialValues} onSubmit={onSubmit}>\n            { (({ isSubmitting }) => (\n              <Form>\n                <VStack spacing={8} align='flex-start'>\n                <HStack spacing={4} w='100%'>\n                  <InputField inputSize='lg' name='street' label='Calle y número' />\n                  <InputField inputSize='lg' name='area' label='Colonia' />\n                </HStack>\n                <HStack spacing={4} w='100%'>\n                  <InputField inputSize='lg' name='city' label='Municipio' />\n                  <InputField inputSize='lg' name='state' label='Estado' />\n                </HStack>\n                <HStack spacing={4} w='49%'>\n                  <InputField inputSize='lg' name='zipcode' label='Codigo postal' />\n                </HStack>\n                <Button variant='primary' type='submit' size='lg' isLoading={isSubmitting}>Guardar</Button>\n                </VStack>\n              </Form>\n            )) }\n          </Formik>\n        </Box>\n      </WrapperSettings>\n    </ContainerPage>\n  );\n}","import React, { useContext, useRef, useState, useEffect } from 'react'\nimport { Box, Flex, Input, VStack, Text, Progress, Button, useToast, Heading } from '@chakra-ui/react';\nimport { Form, Formik } from 'formik';\nimport mapboxgl, { Map, Marker } from 'mapbox-gl';\n\nimport PlacesAutocomplete, { geocodeByAddress, getLatLng } from 'react-places-autocomplete';\nimport { ContainerPage } from '../components/general/ContainerPage';\nimport { UserContext } from '../components/general/Layout';\nimport { WrapperSettings } from '../components/general/WrapperSettings';\nimport { BusinessAddressService } from '../services/businessAddressService';\nimport { BusinessAddress, BusinessAddressResponse } from '../types/BusinessAddress';\nimport { TOKEN_MAPBOX } from '../config/constants';\nimport { LoadingView } from '../components/general/LoadingView';\nimport { useGoogleMaps } from '../hooks/useMap';\n\ninterface SettingsLocationProps {\n\n}\n\nexport const SettingsLocation: React.FC<SettingsLocationProps> = () => {\n  // Contexto\n  const businessContext = useContext(UserContext);\n  \n  // Hooks\n  const toast = useToast();\n  \n\n  // States\n  const [address, setAddress] = useState<BusinessAddress | null>(null);\n  const [geoAddress, setGeoAddress] = useState<string>('');\n  const [coords, setCoords] = useState({ lat: 25.6866142, lng: -100.3161126 });\n\n  const [isLoading, setIsLoading] = useState(true);\n  \n  const { refContainer, addMarker, changeLocation } = useGoogleMaps({ coords, setCoords });\n  \n  const fetchAddress = async () => {\n    const { success, address } = await new BusinessAddressService().get(businessContext.id);\n    if (success && address) {\n      setAddress(address);\n      setGeoAddress(address.addressMap);\n      setCoords({ lat: address.lat, lng: address.lng });\n      changeLocation({ lat: address.lat, lng: address.lng });\n      addMarker({ lat: address.lat, lng: address.lng });\n    }\n    setIsLoading(false);\n  }\n\n  useEffect(() => {\n    fetchAddress();\n  }, [])\n\n\n  const onSubmit = async () => {\n    let response : BusinessAddressResponse;\n    if (businessContext.id && address?.id) {\n      response = await new BusinessAddressService().update({ lat: coords.lat, lng: coords.lng, addressMap: geoAddress }, businessContext.id, address.id);\n      if (response.success) {\n        toast({\n          title: \"Datos actualizados.\",\n          status: \"success\",\n          isClosable: true,\n          position: 'top'\n        });\n      }\n    }\n  }\n\n  const handleSelect = async (address: string) => {\n    setGeoAddress(address);\n    const results = await geocodeByAddress(address)\n    const latLng = await getLatLng(results[0]);\n    \n    setCoords(latLng);\n    changeLocation(latLng);\n    addMarker(latLng);\n  }\n\n  const initialValues = {\n    street: '',\n    area: '',\n    city: '',\n    state: ''\n  }\n\n  return (\n    <ContainerPage title='Configuración'>\n      <WrapperSettings>\n        <Heading as='h2' size='md' mb={2}>Ubicación</Heading>\n        <Text fontSize='md' fontWeight='500' mb={8} pr={20}>Ingresa correctamente esta\u0010 información, es la que visualizarán las personas para poder llegar a tu negocio</Text>\n        <Box>\n          <Formik initialValues={initialValues} onSubmit={onSubmit}>\n          { (({ isSubmitting }) => (\n            <Form>\n              <Flex aling='center' justify='center' mb={2}>\n                <VStack w='100%' align='flex-start'>\n                  <PlacesAutocomplete\n                    value={geoAddress}\n                    onChange={(geoaddress) => setGeoAddress(geoaddress)}\n                    onSelect={handleSelect}\n                    searchOptions={{ componentRestrictions: { country: ['mx'] } }}\n                  >\n                    { (({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\n                        <Box w='100%'>\n                          <Input {...getInputProps()} placeholder='Dirección ' size='lg' />\n                          <Box shadow='md' background='#FFFFFF'>\n                            { loading && <Progress size=\"xs\" isIndeterminate colorScheme='green' /> }\n                            {suggestions.map(suggestion => {\n                              return (\n                                <Box {...getSuggestionItemProps(suggestion, { key: suggestion.id })} textAlign='left' p={2}>\n                                  <Text fontWeight='bold'>{suggestion.description}</Text>\n                                </Box>\n                              );\n                            })}\n                          </Box>\n                        </Box>\n                    )) }\n                  </PlacesAutocomplete>\n                </VStack>\n              </Flex>\n              <Box>\n                <Box ref={refContainer} h='200px' w='100%' />\n                <Text fontWeight='bold' fontSize='xs' mt={2}>Si es necesario, ajusta el mapa para que el pin aparezca en la ubicación correcta.</Text>\n                \n              </Box>\n\n              <Flex mt={4} align='flex-start' justifyContent='flex-start'>\n                <Button disabled={!geoAddress} isLoading={isSubmitting} size='lg' variant='primary' type='submit'>Guardar</Button>\n              </Flex>\n            </Form>\n          )) }\n        </Formik>\n        </Box>\n      </WrapperSettings>\n    </ContainerPage>\n  );\n}","import React, { useState, useEffect, useContext } from 'react'\nimport { Heading, HStack, Text, Tooltip, FormControl, Select, IconButton, Box, Flex, VStack, Button, useToast } from '@chakra-ui/react';\nimport { useHistory } from 'react-router-dom';\nimport { FaDoorOpen, FaDoorClosed } from 'react-icons/fa';\n\n// Types\nimport { IBusiness } from '../types/Business';\n\n// services\nimport { BusinessService } from '../services/businessService';\nimport { formatHoursDate } from '../utils/formatHoursDate';\n\n// components\nimport { ContainerPage } from '../components/general/ContainerPage';\nimport { WrapperSettings } from '../components/general/WrapperSettings';\nimport { LoadingView } from '../components/general/LoadingView';\nimport { Form, Formik } from 'formik';\nimport { UserContext } from '../components/general/Layout';\nimport { IHour } from '../types/IHour';\n\n\ninterface SettingsHourProps {\n\n}\n\nexport const SettingsHour: React.FC<SettingsHourProps> = () => {\n  // context\n  const businessContext = useContext(UserContext);\n\n  // Hooks\n  const history = useHistory()\n  const toast = useToast();\n\n  // states\n  const [hours, setHours] = useState<string[]>([]);\n  const [myHours, setMyHours] = useState<IHour[]>([]);\n  \n  useEffect(() => {\n    const fetchHours = async () => {\n      const response = await new BusinessService().getHours(businessContext.id);\n      \n      if (response.success && response.hours) {\n        const newHours = formatHoursDate(response.hours);\n        setMyHours(newHours);\n      }\n    }\n\n    fetchHours();\n    getHours();\n  }, []);\n\n  const getHours = () => {\n    var arr = [], i, j;\n    for(i=0; i<24; i++) {\n      for(j=0; j<2; j++) {\n        arr.push(i + \":\" + (j===0 ? \"00\" : 30*j) );\n      }\n    }\n    setHours(arr);\n  }\n\n  const onSubmit = async (values: any) => {\n    if (businessContext?.id) {\n      const response = await new BusinessService().createHours(values, businessContext.id);\n      if (response.success) {\n        toast({\n          title: \"Datos actualizados.\",\n          status: \"success\",\n          isClosable: true,\n          position: 'top'\n        });\n      }\n    }\n  }\n\n  const formDay = (values: any, handleChange: any, setFieldValue: any, label: string, dayOfWeek: number) => {\n    const isOpen : boolean = values.days[dayOfWeek].isOpen;\n    const { openFrom, openTill } = values.days[dayOfWeek];\n    return (\n      <HStack w='100%' direction='row' justify='center' align='center'>\n        <Text w='250px' textAlign='left' fontWeight='semibold'>{label}</Text>\n        <FormControl>\n          <Select name={`days[${dayOfWeek}].openFrom`} size='lg' value={openFrom} onChange={handleChange}>\n            { hours.map((time, key) => (\n              <option key={key} value={time}>{time}</option>\n            ))}\n          </Select>\n        </FormControl>\n        <FormControl>\n          <Select name={`days[${dayOfWeek}].openTill`} size='lg' value={openTill} onChange={handleChange}>\n            { hours.map((time, key) => (\n              <option key={key} value={time}>{time}</option>\n            ))}\n          </Select>\n        </FormControl>\n        <Tooltip label={isOpen ? 'Cerrar este día' : 'Abrir este día'} fontSize=\"md\">\n          <IconButton\n            colorScheme=\"teal\"\n            aria-label=\"Call Segun\"\n            size=\"lg\"\n            icon={isOpen ? <FaDoorOpen /> : <FaDoorClosed />}\n            onClick={() => setFieldValue(`days[${dayOfWeek}].isOpen`, !isOpen )}\n          />\n        </Tooltip>\n      </HStack>\n    )\n  }\n\n  if (!businessContext || myHours.length === 0) {\n    return <LoadingView />\n  }\n\n  console.log('my hours');\n  \n  const initialValue = {\n    days: [\n      { businessId: businessContext.id, openFrom: myHours[0] ? myHours[0].openFrom :  '9:00', openTill: myHours[0] ? myHours[0].openTill : '20:00', isOpen: myHours[0] ? myHours[0].isOpen : true, dayOfWeek: 0 },\n      { businessId: businessContext.id, openFrom: myHours[1] ? myHours[1].openFrom :  '9:10', openTill: myHours[1] ? myHours[1].openTill : '20:00', isOpen: myHours[1] ? myHours[1].isOpen : true, dayOfWeek: 1 },\n      { businessId: businessContext.id, openFrom: myHours[2] ? myHours[2].openFrom :  '9:00', openTill: myHours[2] ? myHours[2].openTill : '20:00', isOpen: myHours[2] ? myHours[2].isOpen : true, dayOfWeek: 2 },\n      { businessId: businessContext.id, openFrom: myHours[3] ? myHours[3].openFrom :  '9:00', openTill: myHours[3] ? myHours[3].openTill : '20:00', isOpen: myHours[3] ? myHours[3].isOpen : true, dayOfWeek: 3 },\n      { businessId: businessContext.id, openFrom: myHours[4] ? myHours[4].openFrom :  '9:00', openTill: myHours[4] ? myHours[4].openTill : '20:00', isOpen: myHours[4] ? myHours[4].isOpen : true, dayOfWeek: 4 },\n      { businessId: businessContext.id, openFrom: myHours[5] ? myHours[5].openFrom :  '9:50', openTill: myHours[5] ? myHours[5].openTill : '20:00', isOpen: myHours[5] ? myHours[5].isOpen : true, dayOfWeek: 5 },\n      { businessId: businessContext.id, openFrom: myHours[6] ? myHours[6].openFrom :  '9:00', openTill: myHours[6] ? myHours[6].openTill : '20:00', isOpen: myHours[6] ? myHours[6].isOpen : true, dayOfWeek: 6 },\n    ]\n  }\n\n  return (\n    <ContainerPage title='Configuración'>\n      <WrapperSettings>\n        <Box>\n          <Heading as='h2' size='md' mb={2}>Horario</Heading>\n        </Box>\n        <Box>\n        <Formik initialValues={initialValue} onSubmit={onSubmit}>\n        { (({ isSubmitting, values, handleChange, setFieldValue }) => (\n          <Form>\n            <Flex w='100%' mt={10}>\n              <VStack w='80%' spacing={3}>\n                { formDay(values, handleChange, setFieldValue, 'Domingo', 0) }\n                { formDay(values, handleChange, setFieldValue, 'Lunes', 1) }\n                { formDay(values, handleChange, setFieldValue, 'Martes', 2) }\n                { formDay(values, handleChange, setFieldValue, 'Miercoles', 3) }\n                { formDay(values, handleChange, setFieldValue, 'Jueves', 4) }\n                { formDay(values, handleChange, setFieldValue, 'Viernes', 5) }\n                { formDay(values, handleChange, setFieldValue, 'Sabado', 6) }\n                <Button size='lg' alignSelf='flex-start' variant='primary' type='submit' isLoading={isSubmitting}>Guardar</Button>\n              </VStack>\n            </Flex>\n          </Form>\n        )) }\n      </Formik>\n        </Box>\n      </WrapperSettings>\n    </ContainerPage>\n  );\n}","export const minutesToHour = (minutes :number) => {\n  const hour = minutes / 60;\n  const min = (hour % 1) * 60;\n\n  if (min === 0) {\n    return `${Math.trunc(hour)} hrs`;\n  } else if(hour < 1) {\n    return `${min} mins`;\n  } else {\n    return `${Math.trunc(hour)}:${min} hrs`;\n  } \n}","import React, { useEffect, useState } from 'react'\nimport { Table, Thead, Tbody, Tr, Th, Td, TableCaption } from \"@chakra-ui/react\"\n\nimport { IBooking } from '../../types/IBooking';\nimport { formatDate } from '../../utils/formatDate';\nimport { minutesToHour } from '../../utils/minutesToHours';\nimport { BookingService } from '../../services/bookingService';\nimport { LoadingView } from '../general/LoadingView';\n\ninterface BookingsListHistoryProps {}\n\nexport const BookingsListHistory: React.FC<BookingsListHistoryProps> = ({}) => {\n\n  const [bookings, setBookings] = useState<IBooking[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchBookings = async () => {\n      // const params = { startDate: moment(new Date()).toISOString() };\n      const params = {};\n      \n      const { bookings } = await new BookingService().getAll(params);\n      setBookings(bookings);\n      setIsLoading(false);\n    }\n    fetchBookings();\n  }, []);\n\n  if (isLoading) {\n    return <LoadingView />\n  }\n\n  const statusColor = (id: number) : string => {\n    switch (id) {\n      case 1:\n        return 'yellow.500'\n      case 2:\n        return 'primary'\n      case 3:\n        return 'red.500'\n      default:\n        return 'primary'\n    }\n}\n\n  return (\n    <Table variant=\"simple\" size=\"md\">\n        <TableCaption>*Cálculos basados en el tiempo y precio de cada servicio</TableCaption>\n        <Thead>\n          <Tr>\n            <Th>#</Th>\n            <Th>Cliente</Th>\n            <Th>Fecha de servicio</Th>\n            <Th>Tiempo de servicio*</Th>\n            <Th>Total a cobrar*</Th>\n            <Th>Estatus</Th>\n          </Tr>\n        </Thead>\n        <Tbody>\n          { bookings.map((item: IBooking) => (\n            <Tr fontSize='14px'>\n              <Td>{item.id}</Td>\n              <Td>{item.customer?.firstName} {item.customer?.lastName}</Td>\n              <Td>{item.bookingDate ? formatDate(item.bookingDate) : ''}</Td>\n              <Td>{item.totalTime ? minutesToHour(item.totalTime) : ''}</Td>\n              <Td>${item.totalPrice}MXN</Td>\n              <Td color={statusColor(item.bookingStatus.id)}>{item.bookingStatus.name}</Td>\n            </Tr>\n          )) }\n        </Tbody>\n      </Table>\n  );\n}","import React, { useEffect, useState } from 'react'\nimport { Table, Thead, Tbody, Tr, Th, Td, TableCaption, Box, Text, Flex, IconButton, Tooltip } from \"@chakra-ui/react\"\nimport moment from 'moment';\n\nimport { IBooking } from '../../types/IBooking';\nimport { formatDate } from '../../utils/formatDate';\nimport { minutesToHour } from '../../utils/minutesToHours';\nimport { BookingService } from '../../services/bookingService';\nimport { LoadingView } from '../general/LoadingView';\nimport { AiOutlineCheckCircle, AiOutlineCloseCircle } from 'react-icons/ai';\nimport { useHistory } from 'react-router-dom';\n\ninterface BookingsListNextProps {}\n\nexport const BookingsListNext: React.FC<BookingsListNextProps> = ({}) => {\n  // hooks\n  const history = useHistory();\n  // state\n  const [bookings, setBookings] = useState<IBooking[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchBookings = async () => {\n      const params = { status: 2, time: 10, dateEnd: moment(new Date()).toISOString() };\n      \n      const { bookings } = await new BookingService().getAll(params);\n      setBookings(bookings);\n      setIsLoading(false);\n    }\n    fetchBookings();\n  }, []);\n\n  if (isLoading) {\n    return <LoadingView />\n  }\n\n  return (\n    <Table variant=\"simple\" size=\"md\">\n        <TableCaption>*Cálculos basados en el tiempo y precio de cada servicio</TableCaption>\n        <Thead>\n          <Tr>\n            <Th>#</Th>\n            <Th>Cliente</Th>\n            <Th>Fecha de servicio</Th>\n            <Th>Tiempo de servicio*</Th>\n            <Th>Total a cobrar*</Th>\n          </Tr>\n        </Thead>\n        <Tbody>\n          { bookings.map((item: IBooking) => (\n            <Tr fontSize='14px'>\n              <Td>{item.id}</Td>\n              <Td\n                textDecor='underline'\n                onClick={() => history.push(`/bookings/${item.id}`)}\n                fontWeight='600'\n                _hover={{ bg: 'primaryLight', cursor: 'pointer' }}\n              >\n                {item.customer?.firstName} {item.customer?.lastName}\n              </Td>\n              <Td>{item.bookingDate ? formatDate(item.bookingDate) : ''}</Td>\n              <Td>{item.totalTime ? minutesToHour(item.totalTime) : ''}</Td>\n              <Td>${item.totalPrice}MXN</Td>\n            </Tr>\n          )) }\n        </Tbody>\n      </Table>\n  );\n}","import React, { useEffect, useState } from 'react'\nimport { Table, Thead, Tbody, Tr, Th, Td, TableCaption, Box, Text, Flex, IconButton, Tooltip, useToast } from \"@chakra-ui/react\"\nimport { AiOutlineCheckCircle, AiOutlineCloseCircle } from 'react-icons/ai';\nimport { useHistory } from 'react-router-dom';\n\nimport { IBooking } from '../../types/IBooking';\nimport { formatDate } from '../../utils/formatDate';\nimport { minutesToHour } from '../../utils/minutesToHours';\nimport { BookingService } from '../../services/bookingService';\nimport { LoadingView } from '../general/LoadingView';\n\ninterface BookingsListProps {}\n\n// Añadir toolt tip al tiempo y precio indicando que es el calculo basado en lo que registro el negocio\n\n// Este monto se basa en el precio de los servicios que registraste\n\nexport const BookingsList: React.FC<BookingsListProps> = ({}) => {\n  // hooks\n  const toast = useToast();\n  const history = useHistory();\n\n  const [bookings, setBookings] = useState<IBooking[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [bookingId, setBookingId] = useState(0)\n\n  useEffect(() => {\n    const fetchBookings = async () => {\n      const params = { status: 1, time: 10 };\n      \n      const { bookings } = await new BookingService().getAll(params);\n      setBookings(bookings);\n      setIsLoading(false);\n    }\n    fetchBookings();\n  }, []);\n\n  if (isLoading) {\n    return <LoadingView />\n  }\n\n  const handleToAcept = async (index :number, id? :number) => {\n    console.log('Booking id', id);\n    if (id) {\n      setBookingId(id);\n      const response = await new BookingService().accepted(id);\n      if (response.success) {\n        setBookings([\n          ...bookings.slice(0, index),\n          ...bookings.slice(index + 1)\n        ]);\n\n        toast({\n          status: 'success',\n          title: 'Servicio aceptado',\n          position: 'top',\n        })\n      }\n      setBookingId(0);\n    }    \n  }\n\n  const handleToCancel = async (index :number, id? :number) => {\n    if (id) {\n      setBookingId(id);\n      const response = await new BookingService().canceled(id);\n      if (response.success) {\n        setBookings([\n          ...bookings.slice(0, index),\n          ...bookings.slice(index + 1)\n        ]);\n\n        toast({\n          status: 'error',\n          title: 'Servicio rechazado',\n          position: 'top',\n        })\n      }\n      setBookingId(0);\n    }    \n  }\n\n  return (\n    <Table variant=\"simple\" size=\"md\">\n        <TableCaption>*Cálculos basados en el tiempo y precio de cada servicio</TableCaption>\n        <Thead>\n          <Tr>\n            <Th>#</Th>\n            <Th>Cliente</Th>\n            <Th>Fecha de servicio</Th>\n            <Th>Tiempo de servicio*</Th>\n            <Th>Total a cobrar*</Th>\n            <Th />\n          </Tr>\n        </Thead>\n        <Tbody>\n          { bookings.map((item: IBooking, index :number) => (\n            <Tr fontSize='14px'>\n              <Td>{item.id}</Td>\n              <Td\n                textDecor='underline'\n                onClick={() => history.push(`/bookings/${item.id}`)}\n                fontWeight='600'\n                _hover={{ bg: 'primaryLight', cursor: 'pointer' }}\n              >\n                {item.customer?.firstName} {item.customer?.lastName}\n              </Td>\n              <Td>{item.bookingDate ? formatDate(item.bookingDate) : ''}</Td>\n              <Td>{item.totalTime ? minutesToHour(item.totalTime) : ''}</Td>\n              <Td>${item.totalPrice}MXN</Td>\n              <Td>\n                <Flex>\n                  <Tooltip label=\"Aceptar\" fontSize=\"md\">\n                    <IconButton\n                      aria-label=\"Aceptar\"\n                      variant=\"ghost\"\n                      size='lg'\n                      fontSize=\"36px\"\n                      icon={<AiOutlineCheckCircle />}\n                      mr={1}\n                      onClick={() => handleToAcept(index, item.id)}\n                      isLoading={bookingId === item.id}\n                    />\n                  </Tooltip>\n                  <Tooltip label=\"Rechazar\" fontSize=\"md\">\n                    <IconButton\n                      aria-label=\"Aceptar\"\n                      variant=\"ghost\"\n                      size='lg'\n                      fontSize=\"36px\"\n                      icon={<AiOutlineCloseCircle />}\n                      mr={1}\n                      onClick={() => handleToCancel(index, item.id)}\n                      isLoading={bookingId === item.id}\n                    />\n                  </Tooltip>\n                </Flex>\n              </Td>\n            </Tr>\n          )) }\n        </Tbody>\n      </Table>\n  );\n}","import { Box, Button, HStack, Text } from '@chakra-ui/react';\nimport React, { useState } from 'react'\nimport { BookingsListHistory } from '../components/booking/BookingHistoryList';\nimport { BookingsListNext } from '../components/booking/BookingListNext';\nimport { BookingsList } from '../components/booking/BookingsList';\nimport { ContainerPage } from '../components/general/ContainerPage';\n\ninterface BookingsProps {}\n\nconst MenuLink: React.FC<{ title: string, onClick: any, isActive: boolean }> = ({title, onClick, isActive}) => (\n  <Button bg={isActive ? 'primary' : ''} variant='ghost' fontWeight='bold' pr={6} onClick={onClick}>\n    <Text color={isActive ? '#FFF' : ''} fontSize='md'>{title}</Text>\n  </Button>\n)\n\nexport const Bookings: React.FC<BookingsProps> = ({}) => {\n  const [tab, setTab] = useState(1);\n\n  return (\n    <ContainerPage title='Reservaciones'>\n      <Box bg='surface' borderBottomWidth={1} borderColor='borders' py={3}>\n        <Box>\n          <HStack mt={4} borderBottomWidth={1} borderColor='borders' p={3}>\n            <MenuLink title='Pendientes' onClick={() => setTab(1)} isActive={tab === 1} />\n            <MenuLink title='Próximas' onClick={() => setTab(2)} isActive={tab === 2} />\n            <MenuLink title='Todas' onClick={() => setTab(3)} isActive={tab === 3} />\n          </HStack>\n          { tab === 1 && <BookingsList /> }\n          { tab === 2 && <BookingsListNext /> }\n          { tab === 3 && <BookingsListHistory /> }\n        </Box>\n      </Box>\n    </ContainerPage>\n  );\n}","import React, { useEffect, useState } from 'react'\nimport { Box, Button, Container, Flex, Heading, HStack, IconButton, Spacer, Stack, Text, Tooltip, useToast, VStack } from '@chakra-ui/react';\nimport { useParams } from 'react-router-dom';\nimport { AiOutlineCheckCircle, AiOutlineCloseCircle } from 'react-icons/ai';\n\nimport { ContainerPage } from '../components/general/ContainerPage';\nimport { IBooking } from '../types/IBooking';\nimport { BookingService } from '../services/bookingService';\nimport { formatDateLG } from '../utils/formatDate';\nimport { minutesToHour } from '../utils/minutesToHours';\nimport { LoadingView } from '../components/general/LoadingView';\nimport { IBookingService } from '../types/IBookingService';\n\ninterface BookingProps {}\n\n// Datos de clioente\n/**\n Nombre\n Telefono,\n\n Fecha\n Hora\n Mensaje\n\n Servicios\n\n Acciones\n  Aceptar\n  Rechazar\n  Contactar\n*/\n\nexport const Booking: React.FC<BookingProps> = ({}) => {\n\n  // hooks\n  const { id } :any = useParams();\n  const toast = useToast();\n\n  // state\n  const [booking, setBooking] = useState<Required<IBooking>>();\n  const [isLoading, setIsLoading] = useState(true);\n\n  const fetchBooking = async () => {\n    const { success, booking } = await new BookingService().get(id)\n    if (success) {\n      setBooking(booking);\n    }\n    setIsLoading(false);\n  };\n\n  useEffect(() => {\n    fetchBooking();\n  }, []);\n\n  const handleToAcept = async () => {\n    if (id) {\n      setIsLoading(true);\n      const response = await new BookingService().accepted(id);\n      if (response.success) {\n        fetchBooking();\n      }\n      setIsLoading(false);\n      console.log('respues de reservacion', response);\n    }    \n  }\n\n  const handleToCancel = async () => {\n    if (id) {\n      setIsLoading(true);\n      const response = await new BookingService().canceled(id);\n      if (response.success) {\n        fetchBooking();\n      }\n      console.log('Respuesta de servicio', response);\n      setIsLoading(false);\n      toast({\n        status: 'error',\n        title: 'Servicio rechazado',\n        position: 'top',\n      })\n      \n    }\n  }    \n\n  if (isLoading) {\n    return <LoadingView />\n  }\n\n  if (!booking) {\n    return (\n      <Text>Servicio no encontrado</Text>\n    )\n  }\n\n  const colorStatus = (statusId :number) => {\n    switch (statusId) {\n      case 1:\n        return '#D69E2E'\n      case 2:\n        return 'primary'\n      case 3:\n        return 'error'\n      default:\n        break;\n    }\n  }\n  \n  return (\n    <>\n      <Box bg={colorStatus(booking.bookingStatusId)} color='#FFF' py={6} px={12} borderBottomWidth={1} borderColor='borders'>\n        <VStack align='left' justify='flex-start'>\n          <Heading as='h1'>{booking.customer.firstName} {booking.customer.lastName}</Heading>\n          <Text color='#FFF'>Teléfono: {booking.customer.phone}</Text>\n          <Text color='#FFF'>Fecha de solicitud: {formatDateLG(booking.createdAt)}</Text>\n        </VStack>\n      </Box>\n      \n      <ContainerPage>\n        <Flex justify='space-between'>\n          <Flex direction='column' w='62%'>\n            <Box bg='surface' py={6} px={6} borderWidth={1} borderColor='borders' mb={6}>\n              <Heading as='h4' fontSize='2xl' mb={6}>Resumen del servicio</Heading>\n\n              { booking.message &&\n              <VStack textAlign='left' align='flex-start' justify='flex-start' spacing={1} mb={4}>\n                <Text fontSize='sm' fontWeight='600' color='subtext'>Comentario</Text>\n                <Text as='cite'>{booking.message}</Text>\n              </VStack>\n              }\n              <HStack>\n                <VStack textAlign='left' align='flex-start' justify='flex-start' spacing={1} mb={4}>\n                  <Text fontSize='sm' fontWeight='600' color='subtext'>Fecha de servicio</Text>\n                  <Text fontWeight='600'>{formatDateLG(booking.bookingDate)}</Text>\n                </VStack>\n              </HStack>\n              <HStack spacing={10}>\n                <VStack textAlign='left' align='flex-start' justify='flex-start' spacing={1} mb={4}>\n                  <Text fontSize='sm' fontWeight='600' color='subtext'>Tiempo de servicio</Text>\n                  <Text fontWeight='600'>{minutesToHour(booking.totalTime)}</Text>\n                </VStack>\n                <VStack textAlign='left' align='flex-start' justify='flex-start' spacing={1} mb={4}>\n                  <Text fontSize='sm' fontWeight='600' color='subtext'>Total a cobrar</Text>\n                  <Text fontWeight='600'>${booking.totalPrice}MXN</Text>\n                </VStack>\n              </HStack>\n            </Box>\n\n            <Box bg='surface' py={6} px={6} w='100%' borderWidth={1} borderColor='borders'>\n              <Heading as='h4' fontSize='2xl' mb={6}>Servicios</Heading>\n              <Stack mb={3} w='100%'>\n                { booking.bookingService.map((item: IBookingService) => (\n                  <Flex align='center' justify='space-evenly' flex='100%'>\n                    <Text fontSize='md' fontWeight='semibold' w='260px'>{item.nameService}</Text>\n                    <Spacer />\n                    <Flex alignSelf='center'>\n                      <Box w='15px' />\n                      <Flex direction='column'>\n                        <Text fontSize='xs' pr='10px'>${item.priceService}MXN</Text>\n                        <Text fontSize='xs' pr='10px'>{item.timeService}min</Text>\n                      </Flex>\n                    </Flex>\n                  </Flex>\n                )) }\n              </Stack>\n            </Box>\n          </Flex>\n\n          <Box w='35%'>\n            { booking.bookingStatusId === 1 &&\n            <Box bg='surface' py={6} px={6} borderWidth={1} borderColor='borders'>\n              <Flex justifyContent='center' direction='column' alignItems='center'>\n                <Heading as='h4' fontSize='2xl'>Solicitud</Heading>\n                <Text mt={10} textAlign='center'>Oscar Alberto esta interesado en hacer una reservación. ¿Lo aceptas?</Text>\n                <VStack my={6} w='100%'>\n                  <Button variant='primary' isFullWidth size='lg' onClick={handleToAcept}>\n                    Aceptar\n                  </Button>\n                  <Button variant='outline' colorScheme='red' isFullWidth size='lg' onClick={handleToCancel}>\n                    Rechazar\n                  </Button>\n                </VStack>\n              </Flex>\n            </Box>\n            }\n          </Box>\n\n        </Flex>\n      </ContainerPage>\n    </>\n  );\n}","import React, { useEffect, useState } from 'react'\nimport { Box, Button, Flex, FormLabel, Text, useToast, Image, Wrap, IconButton } from '@chakra-ui/react';\nimport { RiDeleteBin6Line } from 'react-icons/ri'\n\nimport { BusinessService } from '../../services/businessService';\nimport { LoadingView } from '../general/LoadingView';\n\ninterface UploadGalleryProps {}\n\nconst acceptedFileTypes = 'image/x-png, image/png, image/jpg, image/jpeg';\n\nexport const UploadGallery: React.FC<UploadGalleryProps> = ({}) => {\n  // hooks\n\n  // state\n  const [photos, setPhotos] = useState<object[]>([]);\n  const [isUploading, setIsUplaoding] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const fetch = async () => {\n    const response = await new BusinessService().getPhotos();\n    if (response.success) {\n      const files = response.photos.map((item :any) => ({\n        image: item.file,\n        id: item.id,\n      }))\n\n      setPhotos(files);\n    }\n    setIsLoading(false);\n  }\n\n  useEffect(() => {\n    fetch();\n  }, [])\n\n  \n\n  const onChangeGallery = async (e :any) => {\n    setIsUplaoding(true);\n    setIsLoading(true);\n    const files : FileList = e.target.files;\n    const newFiles = Array.from(files).map((item:any) => ({\n      image: URL.createObjectURL(item),\n      id: item.id,\n    }))\n    \n    const newPhotos = [...photos, ...newFiles]\n    setPhotos(newPhotos);\n\n    \n    for (let i = 0; i < files.length; i++) {\n      const dataFiles = new FormData();\n      dataFiles.append('file', files[i]);\n      const response = await new BusinessService().uplaodGallery(dataFiles);\n      console.log('Respuesta imagenes', response);\n    }\n    \n    \n\n    // if (response.success) {\n    //   toast({\n    //     title: \"Datos actualizados.\",\n    //     status: \"success\",\n    //     isClosable: true,\n    //     position: 'top'\n    //   });\n    // }\n    setIsUplaoding(false);\n    setIsLoading(false);\n  }\n\n  const handleDeletePhoto = async (id :number, index :number) => {\n    setIsLoading(true);\n    if (id) {\n      const response = await new BusinessService().deletePhoto(id);\n      if (response.success) {\n        setPhotos([\n          ...photos.splice(0, index),\n          ...photos.splice(index + 1),\n        ]);\n      }\n    }\n    setIsLoading(false);\n  }\n\n  if (isLoading) {\n    return <LoadingView />\n  }\n  \n  return (\n    <>\n      <Box w='60%'>\n        <Text fontWeight='bold' mb={4}>Galeria</Text>\n        <Text fontSize='sm' color='subtext' mb={3}>Añade las fotos de tu negocio y local para que los usuarios conozcan tus servicios.</Text>\n        <Button variant='primary-outline' isLoading={isUploading} p={0} mt={4}>\n          <FormLabel w='100%' h='100%' htmlFor='files' m={0} p={2} px={4} >Añadir imagenes +</FormLabel>\n        </Button>\n        <input\n          type=\"file\"\n          id=\"files\" \n          name='files'\n          accept={acceptedFileTypes} \n          multiple\n          onChange={onChangeGallery}\n          style={{ display: 'none' }}\n        />\n      </Box>\n      <Box w='90%'>\n        <Wrap direction='row' flex={1} mt={4}>\n          { photos.map((photo :any, index :number) => (\n            <Box p={2} key={index} pos='relative' role='group'>\n              <Flex pos='absolute' w='200px' alignItems='flex-end' justifyContent='flex-end' p={2} display='none' _groupHover={{ display: 'flex' }}>\n                <IconButton size='sm' aria-label='Delete photo' icon={<RiDeleteBin6Line size={20} />} onClick={() => handleDeletePhoto(photo.id, index)} />\n              </Flex>\n              <Image w='200px' h='133px' objectFit=\"cover\" src={photo.image} />\n            </Box>\n          )) }\n        </Wrap>\n      </Box>\n    </>\n  );\n}","import React, { HtmlHTMLAttributes, useEffect, useState } from 'react'\nimport { Text, Heading, Box, Flex, Image, Divider, Button, VStack, FormLabel, useToast } from '@chakra-ui/react';\n\n\nimport { ContainerPage } from '../components/general/ContainerPage';\nimport { WrapperSettings } from '../components/general/WrapperSettings';\nimport { BusinessService } from '../services/businessService';\nimport { LoadingView } from '../components/general/LoadingView';\nimport { UploadCover } from '../components/gallery/UploadCover';\nimport { UploadGallery } from '../components/gallery/UploadGallery';\n\ninterface SettingsGalleryProps {}\n\nexport const SettingsGallery: React.FC<SettingsGalleryProps> = () => {\n  \n  return (\n    <ContainerPage title='Configuración'>\n      <WrapperSettings>\n        <Heading as='h2' size='md' mb={2}>Fotos</Heading>\n\n        <Flex w='90%' justify='space-between' mt={4}>\n          <UploadCover />\n        </Flex>\n\n        <Divider my={6} />\n\n        <Flex w='100%' justify='space-between' direction='column'>\n          <UploadGallery />\n        </Flex>\n      </WrapperSettings>\n    </ContainerPage>\n  );\n}","import React, { useContext } from 'react'\nimport { AlertDialog, AlertDialogBody, AlertDialogOverlay, AlertDialogContent, AlertDialogHeader, AlertDialogFooter, Button, Text, useToast } from '@chakra-ui/react';\n\nimport { IService } from '../../types/IService';\nimport { BusinessService } from '../../services/businessService';\nimport { UserContext } from '../general/Layout';\n\ninterface DeleteServiceDialogProps {\n  service: IService\n  isOpen: boolean\n  onClose: any\n  realodList: any\n}\n\nexport const DeleteServiceDialog: React.FC<DeleteServiceDialogProps> = ({ isOpen, onClose, service, realodList }) => {\n  const businessContext = useContext(UserContext);\n  const toast = useToast();\n\n  const deleteService = async () => {\n    if(service?.id) {\n      const { success } = await new BusinessService().deleteService(service.id, businessContext.id);\n      if (success) {\n        realodList()\n        toast({\n          title: \"Datos actualizados.\",\n          status: \"success\",\n          isClosable: true,\n          position: 'top'\n        });\n      }\n      onClose();\n    }\n    \n  }\n\n  const cancelRef = React.useRef<any>();\n  return (\n    <AlertDialog\n        isOpen={isOpen}\n        leastDestructiveRef={cancelRef}\n        onClose={onClose}\n      >\n        <AlertDialogOverlay>\n          <AlertDialogContent>\n            <AlertDialogHeader fontSize=\"lg\" fontWeight=\"bold\">\n              Eliminar servicio\n            </AlertDialogHeader>\n\n            <AlertDialogBody>\n            <Text mb={2} fontWeight='bold' fontSize='sm'>¿Estás seguro que quieres eliminar este servicio?</Text>\n            <Text fontSize='sm'>No es posible deshacer la operación.</Text>\n            </AlertDialogBody>\n\n            <AlertDialogFooter>\n              <Button ref={cancelRef} onClick={onClose}>\n                Cancelar\n              </Button>\n              <Button colorScheme=\"red\" onClick={deleteService} ml={3}>\n               Si, eliminar\n              </Button>\n            </AlertDialogFooter>\n          </AlertDialogContent>\n        </AlertDialogOverlay>\n      </AlertDialog>\n  );\n}","import React, { useContext } from 'react'\nimport { Box, Button, FormControl, FormErrorMessage, FormLabel, Heading, HStack, NumberInput, NumberInputField, Select, VStack } from '@chakra-ui/react'\nimport { Form, Formik } from 'formik'\nimport { InputField, TextareaField } from '../general/InputField'\nimport { NewServiceSchema } from '../../validations/newServiceValidation'\nimport { IService, IServiceResponse } from '../../types/IService'\nimport { BusinessService } from '../../services/businessService'\nimport { UserContext } from '../general/Layout'\n\ninterface ServiceFormProps {\n  realodList: any\n  service?: IService\n}\n\nexport const ServiceForm: React.FC<ServiceFormProps> = ({ realodList, service }) => {\n  const businessContext = useContext(UserContext);\n\n  const onSubmit = async (values: IService) => {\n    let response : IServiceResponse;\n    if (service?.id) {\n      response = await new BusinessService().updateService(values, service.id, businessContext.id);\n    } else {\n      response = await new BusinessService().createService(values, businessContext.id);\n    }\n    \n    console.log('respuesta', response);\n    if (response.success) {\n      if (realodList) {\n        realodList();\n      }\n    }\n  }\n\n  const initialValues = !service ? {\n    name: '',\n    description: '',\n    price: '',\n    time: '',\n  } : service;\n\n\n  return (\n    <Box>\n      <Formik initialValues={initialValues} onSubmit={onSubmit} validationSchema={NewServiceSchema}>\n        { (({ isSubmitting, values, handleChange, setFieldValue, errors }) => (\n          <Form>\n            <VStack spacing={4}>\n              <InputField name='name' label='Nombre' />\n              <TextareaField name='description' label='Descripción (opcional)' />\n              <HStack>\n                <FormControl isInvalid={!!errors.price}>\n                    <FormLabel fontWeight='bold' fontSize='sm'>Precio</FormLabel>\n                    <NumberInput name='price' size='lg' onChange={(value) => setFieldValue('price', value)} value={values.price}>\n                      <NumberInputField />\n                    </NumberInput>\n                    { errors.price && <FormErrorMessage>{errors.price}</FormErrorMessage> }\n                  </FormControl>\n                <FormControl isInvalid={!!errors.time}>\n                  <FormLabel fontWeight='bold' fontSize='sm'>Tiempo</FormLabel>\n                  <Select name='time' size='lg' placeholder=\"Seleccioné una duración\" value={values.time} onChange={handleChange}>\n                    <option value=\"15\">15 min.</option>\n                    <option value=\"30\">30 min.</option>\n                    <option value=\"45\">45 min.</option>\n                    <option value=\"45\">45 min.</option>\n                    <option value=\"60\">1:00 hr.</option>\n                    <option value=\"75\">1:15 hr.</option>\n                    <option value=\"90\">1:30 hr.</option>\n                    <option value=\"105\">1:45 hr.</option>\n                    <option value=\"120\">2:00 hr.</option>\n                  </Select>\n                  { errors.price && <FormErrorMessage>{errors.price}</FormErrorMessage> }\n                </FormControl>\n              </HStack>\n              <Button type='submit' isLoading={isSubmitting} variant='primary' alignSelf='end'>Guardar</Button>\n            </VStack>\n          </Form>\n        )) }\n      </Formik>\n    </Box>\n  );\n}","import React from 'react'\nimport { Modal, ModalOverlay, ModalContent, ModalCloseButton, ModalHeader, ModalBody, ModalFooter, Button, Text, useDisclosure } from '@chakra-ui/react';\nimport { ServiceForm } from './ServiceForm';\nimport { IService } from '../../types/IService';\n\ninterface ModalNewServiceProps {\n  isOpen: boolean\n  onClose: any\n  realodList: any\n  service?: IService\n}\n\nexport const ModalNewService: React.FC<ModalNewServiceProps> = ({ isOpen, onClose, realodList, service }) => {  \n  return (\n    <Modal isOpen={isOpen} onClose={onClose} motionPreset='slideInBottom'>\n      <ModalOverlay />\n      <ModalContent>\n        <ModalHeader>Nuevo servicio</ModalHeader>\n        <ModalCloseButton />\n        <ModalBody>\n          <ServiceForm realodList={realodList} service={service} />\n        </ModalBody>\n      </ModalContent>\n    </Modal>\n  );\n}","import { Box, Button, Divider, Flex, HStack, IconButton, Menu, MenuButton, MenuItem, MenuList, Text } from '@chakra-ui/react';\nimport React from 'react'\nimport { CgChevronDoubleDown } from 'react-icons/cg';\nimport { CgMoreVerticalAlt } from 'react-icons/cg';\nimport { IService } from '../../types/IService';\n\ninterface ServiceItemProps {\n  service: IService\n  handleEditService: any\n  handleDeleteService: any\n}\n\nexport const ServiceItem: React.FC<ServiceItemProps> = ({ service, handleEditService, handleDeleteService }) => {\n  return (\n    <Flex shadow='md' bg='surface' px={4} py={4} borderBottomWidth={1} borderBottomColor='borders' align='center'>\n      <Box w='50%'>\n        <Text size='xs' fontWeight='bold'>{service.name}</Text>\n        <Text fontSize='sm'>{service.description}</Text>\n      </Box>\n      <Text size='sm' fontWeight='semibold' w='25%' textAlign='left'>{service.time} min.</Text>\n      <Text size='sm' fontWeight='semibold' w='25%' textAlign='left'>${service.price}</Text>\n      <Box>\n        <Menu>\n          <MenuButton as={IconButton} icon={<CgMoreVerticalAlt />}/>\n          <MenuList>\n            {/* <MenuItem>Pausar</MenuItem> */}\n            <MenuItem onClick={() => handleEditService(service)} >Editar</MenuItem>\n            <MenuItem onClick={() => handleDeleteService(service)}>Eliminar</MenuItem>\n          </MenuList>\n        </Menu>\n      </Box>\n    </Flex>\n  );\n}","import React from 'react'\nimport { Box, Text } from '@chakra-ui/react';\nimport { IService } from '../../types/IService';\nimport { ServiceItem } from './ServiceItem';\n\ninterface ServiceListProps {\n  services: IService[]\n  handleEditService: any\n  handleDeleteService: any\n}\n\nexport const ServiceList: React.FC<ServiceListProps> = ({ services, handleEditService, handleDeleteService }) => {\n  return (\n    <Box shadow='sm'>\n      { services.map((item) => (\n        <ServiceItem\n          service={item}\n          handleEditService={handleEditService}\n          handleDeleteService={handleDeleteService}\n          key={item.id}\n        />\n      )) }\n    </Box>\n  );\n}","import { Box, Button, Flex, Spacer, Text, useDisclosure } from '@chakra-ui/react';\nimport React, { useContext, useEffect, useState } from 'react'\nimport { ContainerPage } from '../components/general/ContainerPage';\nimport { UserContext } from '../components/general/Layout';\nimport { LoadingView } from '../components/general/LoadingView';\nimport { DeleteServiceDialog } from '../components/services/DeleteServiceDialog';\nimport { ModalNewService } from '../components/services/ModalNewService';\nimport { ServiceList } from '../components/services/ServiceList';\nimport { BusinessService } from '../services/businessService';\nimport { IService } from '../types/IService';\n\ninterface ServicesProps {\n  \n}\n\nexport const Services: React.FC<ServicesProps> = ({ }) => {\n  // Hooks\n  const { onOpen, isOpen, onClose } = useDisclosure()\n  const businessContext = useContext(UserContext);\n\n  // States\n  const [services, setServices] = useState<IService[]>([])\n  const [service, setService] = useState<IService>()\n  const [isLoading, setIsLoading] = useState(true);\n  const [isDeleteModal, setIsDeleteModal] = useState(false);\n\n  const fetchServices = async  () => {\n    const { success, services } = await new BusinessService().getServices(businessContext.id);\n    if (success && services) {\n      setServices(services);\n    }\n    setIsLoading(false);\n  }\n\n  useEffect(() => {  \n    fetchServices();\n  }, []);\n\n  const realodList = () => {\n    fetchServices();\n    onClose();\n  }\n\n  const handleCreateService = () => {\n    setService(undefined)\n    onOpen();\n  }\n\n  const handleEditService = (service: IService) => {\n    setService(service);\n    onOpen()\n    \n  }\n\n  const handleDeleteService = (service: IService) => {\n    setService(service);\n    setIsDeleteModal(true);\n  }\n\n  // Metodos para elimianar, pausar y editar\n\n  if(isLoading) {\n    return <LoadingView />\n  }\n\n  return (\n    <>\n      <ModalNewService isOpen={isOpen} onClose={onClose} realodList={realodList} service={service} />\n      { service &&  <DeleteServiceDialog isOpen={isDeleteModal} realodList={realodList} service={service} onClose={() => setIsDeleteModal(!isDeleteModal)} /> }\n      <ContainerPage title='Servicios'>\n        <Flex direction='row' align='center'>\n          <Box>\n            <Text fontSize='md' fontWeight='500' mb={8} pr={20}>Añade tantos servicios necesites para que tus clientes conozcan todo lo que ofreces.</Text>\n          </Box>\n          <Spacer />\n          <Box>\n            <Button variant='primary' onClick={handleCreateService}>Nuevo servicio</Button>\n          </Box>\n        </Flex>\n        <Box>\n          <ServiceList\n            services={services}\n            handleEditService={handleEditService}\n            handleDeleteService={handleDeleteService}\n            />\n        </Box>\n      </ContainerPage>\n    </>\n  );\n}","import HttpClient from './HttpClient';\n\nimport { URL_API } from \"../config/constants\";\nimport { ICustomersResponse } from '../types/ICustomer';\n\nexport class CustomerService extends HttpClient {\n\n  public constructor() {\n    super(URL_API);\n  }\n\n  \n  public getAll = () => this.instance.get<ICustomersResponse>('/customers');\n}","import React from 'react'\nimport { Table, TableCaption, Thead, Tbody, Tr, Th, Td } from '@chakra-ui/react';\n\nimport { ICustomer } from '../../types/ICustomer';\nimport { formatDate } from '../../utils/formatDate';\n\ninterface CustomerListProps {\n customers: ICustomer[]\n}\n\nexport const CustomerList: React.FC<CustomerListProps> = ({ customers }) => {\n  return (\n    <Table variant=\"simple\">\n      <TableCaption>Imperial to metric conversion factors</TableCaption>\n      <Thead>\n        <Tr>\n          <Th>Nombre</Th>\n          <Th>Telefono</Th>\n          <Th>Ultima solicitud</Th>\n        </Tr>\n      </Thead>\n      <Tbody>\n        { customers.map((customer: any, index: number) => (\n          <Tr key={index}>\n            <Td>{customer.firstName} {customer.lastName}</Td>\n            <Td>{customer.phone}</Td>\n            <Td>{formatDate(customer.bookingCreatedAt)}</Td>\n          </Tr>\n        )) }\n      </Tbody>\n    </Table>\n  );\n}","import { Box, Flex, Spacer, useDisclosure } from '@chakra-ui/react';\nimport React, { useContext, useEffect, useState } from 'react'\nimport { ContainerPage } from '../components/general/ContainerPage';\nimport { UserContext } from '../components/general/Layout';\nimport { LoadingView } from '../components/general/LoadingView';\nimport { IService } from '../types/IService';\nimport { CustomerService } from '../services/customerService';\nimport { ICustomer } from '../types/ICustomer';\nimport { CustomerList } from '../components/customers/CustomerList';\n\ninterface CustomersProps {\n  \n}\n\nexport const Customers: React.FC<CustomersProps> = ({ }) => {\n  // Hooks\n\n  // States\n  const [customers, setCustomers] = useState<ICustomer[]>([])\n  const [isLoading, setIsLoading] = useState(true);\n  \n  const fetch = async  () => {\n    const { success, customers } = await new CustomerService().getAll();\n    console.log('Clientes', customers);\n    \n    if (success && customers) {\n      setCustomers(customers);\n    }\n\n    setIsLoading(false);\n  }\n\n  useEffect(() => {  \n    fetch();\n  }, []);\n\n\n  // Metodos para elimianar, pausar y editar\n\n  if(isLoading) {\n    return <LoadingView />\n  }\n\n  return (\n    <>\n      <ContainerPage title={`Clientes (${customers.length})`}>\n        <Flex direction='row' align='center'>\n          {/* <Box>\n            <Text fontSize='md' fontWeight='500' mb={8} pr={20}>Añade tantos servicios necesites para que tus clientes sepan todo lo que ofreces.</Text>\n          </Box> */}\n          <Spacer />\n        </Flex>\n        <Box bg='surface' borderBottomWidth={1} borderColor='borders' py={3}>\n          <CustomerList customers={customers} />\n        </Box>\n      </ContainerPage>\n    </>\n  );\n}","import React from 'react';\nimport { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom';\nimport * as Cookies from \"js-cookie\";\n\n// Components\nimport { Layout } from './components/general/Layout';\n\n// Pages\nimport { Login } from './pages/Login';\nimport { Home } from './pages/Home';\nimport { Signup } from './pages/Signup';\nimport { Settings } from './pages/Settings';\nimport { NewBusiness } from './pages/NewBusiness';\nimport { SettingsAddress } from './pages/SettingsAddress';\nimport { SettingsLocation } from './pages/SettingsLocation';\nimport { SettingsServices } from './pages/SettingsServices';\nimport { SettingsHour } from './pages/SettingsHour';\nimport { Bookings } from './pages/Bookings';\nimport { Booking } from './pages/Booking';\nimport { SettingsGallery } from './pages/SettingsGallery';\nimport { Services } from './pages/Services';\nimport { Customers } from './pages/Customers';\n\nconst App = () => {\n  const PrivateRoutes = () => {\n    const isAuth = Cookies.get(\"qid\") ? true : false\n    if (isAuth) {\n      return (\n        <Route exact path='/:path?/:path2?'>\n          <Layout>\n            <Route path='/' exact component={Home} />\n            <Route path='/bookings' exact component={Bookings} />\n            <Route path='/bookings/:id' exact component={Booking} />\n            <Route path='/services' exact component={Services} />\n            <Route path='/settings' exact component={Settings} />\n            <Route path='/customers' exact component={Customers} />\n            {/* <Route path='/settings/services' exact component={SettingsServices} /> */}\n            <Route path='/settings/address' exact component={SettingsAddress} />\n            <Route path='/settings/location' exact component={SettingsLocation} />\n            <Route path='/settings/hours' exact component={SettingsHour} />\n            <Route path='/settings/photos' exact component={SettingsGallery} />\n            {/* <Route component={NotFound}/> */}\n          </Layout>\n        </Route>\n      )\n    } else {\n      return <Route render={() => <Redirect to={{ pathname: '/signup' }} />} />\n    }\n  }\n\n  const PrivateRoute = ({ component: Component, ...rest }: any) => {\n    const isAuth = Cookies.get(\"qid\") ? true : false\n    return (\n      <Route\n        {...rest}\n        render={(props) => ( isAuth\n          ? ( <Component {...props} /> ) \n          : ( <Redirect to={{ pathname: '/login' }} /> )) \n        } \n      />\n    )\n  }\n\n  const PublicRoute = ({ component: Component, ...rest }: any) => {\n    const isAuth = Cookies.get(\"qid\") ? true : false\n    return (\n      <Route\n        {...rest}\n        render={(props) => ( !isAuth\n          ? ( <Component {...props} /> ) \n          : ( <Redirect to={{ pathname: '/' }} /> )) \n        } \n      />\n    )\n  }\n\n  return (\n    <BrowserRouter basename='/manager/'>\n      \n      <Switch>\n        <PublicRoute path='/login' exact component={Login} />\n        <PublicRoute path='/signup' exact component={Signup} />\n        \n        <PrivateRoute path='/new-business/:step?' exact component={NewBusiness} />\n        {/* <Route component={NotFound}/> */}\n\n        <PrivateRoutes />\n      </Switch>\n    </BrowserRouter>   \n  )\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","\nimport { extendTheme, theme as chakraTheme } from '@chakra-ui/react'\n\nconst fonts = { ...chakraTheme.fonts, mono: `'Menlo', monospace` }\n\n// const breakpoints = ['40em', '52em', '64em']\n\nconst theme = extendTheme({\n  ...chakraTheme,\n  styles: {\n    global: {\n      body: {\n        bg: \"#F6F7F9\",\n        // color: \"#333333\",\n        color: '#020621',\n      },\n    },\n  },\n  colors: {\n    ...chakraTheme.colors,\n    black: '#16161D',\n    primary: '#25CB67',  // Primary\n    _primary: '#05AF3C', // Priamry variant \n    secondary: '#020621', // Secondanry\n    _secondary: '#161e2c', // Secondanry variant\n    error: '#B00020',\n    background: '#F6F7F9',\n    surface: '#FFFFFF',\n    borders: '#d9e3eb',\n    subtext: '#717171',\n    primaryLight: '#E9F9EF'\n  },\n  fonts,\n  // breakpoints,\n  components: {\n    Link: {\n      variants: {\n        \"primary\": {\n          fontWeight: 'semibold',\n          _hover: {\n            textDecoration: 'none',\n            color: 'primary'\n          },\n        },\n      },\n    },\n    Button: {\n      variants: {\n        \"primary\": {\n          bg: \"primary\",\n          borderColor: \"#05AF3C\",\n          color: '#FFF',\n          _hover: {\n            bg: \"_primary\",\n          },\n        },\n        \"primary-outline\": {\n          bg: \"transparent\",\n          borderColor: \"primary\",\n          borderWidth: 1,\n          color: 'primary',\n          _hover: {\n            bg: \"_primary\",\n            color: '#FFFFFF',\n          },\n        },\n        \"secondary\": {\n          bg: \"secondary\",\n          borderColor: \"#05AF3C\",\n          color: '#FFF',\n          _hover: {\n            bg: \"_secondary\",\n          },\n        },\n      },\n    },\n    Input: {\n      baseStyle: {\n        field: {\n          _focus: {\n            borderColor: '_primary',\n            borderWidth: 1,\n            outline: 0,\n            boxShadow: 'none',\n          },\n          boxShadow: 'none',\n        },\n      },\n      variants: {\n        outline: () => ({\n          field: {\n            _focus: {\n              borderColor: '_primary',\n              borderWidth: 1,\n              outline: 0,\n              boxShadow: 'none',\n            },\n            _hover: {\n              borderColor: '_primary',\n              borderWidth: 1,\n            }\n          },\n        }),\n        \"app\": {\n          field: {\n            _focus: {\n              borderColor: '_primary',\n              borderWidth: 1,\n              outline: 0,\n            },\n          },\n        },\n      },\n    },\n  }\n})\n\nexport default theme","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { ChakraProvider, CSSReset } from '@chakra-ui/react';\n\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport theme from './config/theme';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <ChakraProvider theme={theme}>\n      <CSSReset />\n      <App />\n    </ChakraProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}